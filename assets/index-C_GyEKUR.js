(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();const ut=!1,ct=(e,t)=>e===t,R=Symbol("solid-proxy"),Ee=Symbol("solid-track"),de={equals:ct};let ft=et;const U=1,ae=2,Xe={owned:null,cleanups:null,context:null,owner:null};var S=null;let Ie=null,mt=null,p=null,M=null,V=null,pe=0;function re(e,t){const n=p,s=S,l=e.length===0,o=t===void 0?s:t,d=l?Xe:{owned:null,cleanups:null,context:o?o.context:null,owner:o},r=l?e:()=>e(()=>B(()=>ne(d)));S=d,p=null;try{return Y(r,!0)}finally{p=n,S=s}}function ue(e,t){t=t?Object.assign({},de,t):de;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=l=>(typeof l=="function"&&(l=l(n.value)),ze(n,l));return[Ye.bind(n),s]}function x(e,t,n){const s=Je(e,t,!1,U);ye(s)}function k(e,t,n){n=n?Object.assign({},de,n):de;const s=Je(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,ye(s),Ye.bind(s)}function St(e){return Y(e,!1)}function B(e){if(p===null)return e();const t=p;p=null;try{return e()}finally{p=t}}function ht(e){return S===null||(S.cleanups===null?S.cleanups=[e]:S.cleanups.push(e)),e}function Ke(){return p}function gt(e,t){const n=Symbol("context");return{id:n,Provider:vt(n),defaultValue:e}}function pt(e){let t;return S&&S.context&&(t=S.context[e.id])!==void 0?t:e.defaultValue}function yt(e){const t=k(e),n=k(()=>Be(t()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}function Ye(){if(this.sources&&this.state)if(this.state===U)ye(this);else{const e=M;M=null,Y(()=>ce(this),!1),M=e}if(p){const e=this.observers?this.observers.length:0;p.sources?(p.sources.push(this),p.sourceSlots.push(e)):(p.sources=[this],p.sourceSlots=[e]),this.observers?(this.observers.push(p),this.observerSlots.push(p.sources.length-1)):(this.observers=[p],this.observerSlots=[p.sources.length-1])}return this.value}function ze(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&Y(()=>{for(let l=0;l<e.observers.length;l+=1){const o=e.observers[l],d=Ie&&Ie.running;d&&Ie.disposed.has(o),(d?!o.tState:!o.state)&&(o.pure?M.push(o):V.push(o),o.observers&&tt(o)),d||(o.state=U)}if(M.length>1e6)throw M=[],new Error},!1)),t}function ye(e){if(!e.fn)return;ne(e);const t=pe;wt(e,e.value,t)}function wt(e,t,n){let s;const l=S,o=p;p=S=e;try{s=e.fn(t)}catch(d){return e.pure&&(e.state=U,e.owned&&e.owned.forEach(ne),e.owned=null),e.updatedAt=n+1,nt(d)}finally{p=o,S=l}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?ze(e,s):e.value=s,e.updatedAt=n)}function Je(e,t,n,s=U,l){const o={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:S,context:S?S.context:null,pure:n};return S===null||S!==Xe&&(S.owned?S.owned.push(o):S.owned=[o]),o}function Ze(e){if(e.state===0)return;if(e.state===ae)return ce(e);if(e.suspense&&B(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<pe);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===U)ye(e);else if(e.state===ae){const s=M;M=null,Y(()=>ce(e,t[0]),!1),M=s}}function Y(e,t){if(M)return e();let n=!1;t||(M=[]),V?n=!0:V=[],pe++;try{const s=e();return At(n),s}catch(s){n||(V=null),M=null,nt(s)}}function At(e){if(M&&(et(M),M=null),e)return;const t=V;V=null,t.length&&Y(()=>ft(t),!1)}function et(e){for(let t=0;t<e.length;t++)Ze(e[t])}function ce(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const l=s.state;l===U?s!==t&&(!s.updatedAt||s.updatedAt<pe)&&Ze(s):l===ae&&ce(s,t)}}}function tt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=ae,n.pure?M.push(n):V.push(n),n.observers&&tt(n))}}function ne(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),l=n.observers;if(l&&l.length){const o=l.pop(),d=n.observerSlots.pop();s<l.length&&(o.sourceSlots[d]=s,l[s]=o,n.observerSlots[s]=d)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)ne(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ne(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function bt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function nt(e,t=S){throw bt(e)}function Be(e){if(typeof e=="function"&&!e.length)return Be(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=Be(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function vt(e,t){return function(s){let l;return x(()=>l=B(()=>(S.context={...S.context,[e]:s.value},yt(()=>s.children))),void 0),l}}const Ct=Symbol("fallback");function Ve(e){for(let t=0;t<e.length;t++)e[t]()}function jt(e,t,n={}){let s=[],l=[],o=[],d=0,r=t.length>1?[]:null;return ht(()=>Ve(o)),()=>{let a=e()||[],c=a.length,u,i;return a[Ee],B(()=>{let _,P,I,G,F,A,$,j,D;if(c===0)d!==0&&(Ve(o),o=[],s=[],l=[],d=0,r&&(r=[])),n.fallback&&(s=[Ct],l[0]=re(H=>(o[0]=H,n.fallback())),d=1);else if(d===0){for(l=new Array(c),i=0;i<c;i++)s[i]=a[i],l[i]=re(C);d=c}else{for(I=new Array(c),G=new Array(c),r&&(F=new Array(c)),A=0,$=Math.min(d,c);A<$&&s[A]===a[A];A++);for($=d-1,j=c-1;$>=A&&j>=A&&s[$]===a[j];$--,j--)I[j]=l[$],G[j]=o[$],r&&(F[j]=r[$]);for(_=new Map,P=new Array(j+1),i=j;i>=A;i--)D=a[i],u=_.get(D),P[i]=u===void 0?-1:u,_.set(D,i);for(u=A;u<=$;u++)D=s[u],i=_.get(D),i!==void 0&&i!==-1?(I[i]=l[u],G[i]=o[u],r&&(F[i]=r[u]),i=P[i],_.set(D,i)):o[u]();for(i=A;i<c;i++)i in I?(l[i]=I[i],o[i]=G[i],r&&(r[i]=F[i],r[i](i))):l[i]=re(C);l=l.slice(0,d=c),s=a.slice(0)}return l});function C(_){if(o[i]=_,r){const[P,I]=ue(i);return r[i]=I,t(a[i],P)}return t(a[i])}}}function f(e,t){return B(()=>e(t||{}))}const xt=e=>`Stale read from <${e}>.`;function _t(e){const t="fallback"in e&&{fallback:()=>e.fallback};return k(jt(()=>e.each,e.children,t||void 0))}function te(e){const t=e.keyed,n=k(()=>e.when,void 0,void 0),s=t?n:k(n,void 0,{equals:(l,o)=>!l==!o});return k(()=>{const l=s();if(l){const o=e.children;return typeof o=="function"&&o.length>0?B(()=>o(t?l:()=>{if(!B(s))throw xt("Show");return n()})):o}return e.fallback},void 0,void 0)}function $t(e,t,n){let s=n.length,l=t.length,o=s,d=0,r=0,a=t[l-1].nextSibling,c=null;for(;d<l||r<o;){if(t[d]===n[r]){d++,r++;continue}for(;t[l-1]===n[o-1];)l--,o--;if(l===d){const u=o<s?r?n[r-1].nextSibling:n[o-r]:a;for(;r<o;)e.insertBefore(n[r++],u)}else if(o===r)for(;d<l;)(!c||!c.has(t[d]))&&t[d].remove(),d++;else if(t[d]===n[o-1]&&n[r]===t[l-1]){const u=t[--l].nextSibling;e.insertBefore(n[r++],t[d++].nextSibling),e.insertBefore(n[--o],u),t[l]=n[o]}else{if(!c){c=new Map;let i=r;for(;i<o;)c.set(n[i],i++)}const u=c.get(t[d]);if(u!=null)if(r<u&&u<o){let i=d,C=1,_;for(;++i<l&&i<o&&!((_=c.get(t[i]))==null||_!==u+C);)C++;if(C>u-r){const P=t[d];for(;r<u;)e.insertBefore(n[r++],P)}else e.replaceChild(n[r++],t[d++])}else d++;else t[d++].remove()}}}function Mt(e,t,n,s={}){let l;return re(o=>{l=o,t===document?e():m(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{l(),t.textContent=""}}function K(e,t,n,s){let l;const o=()=>{const r=document.createElement("template");return r.innerHTML=e,r.content.firstChild},d=()=>(l||(l=o())).cloneNode(!0);return d.cloneNode=d,d}function h(e,t){t==null?e.removeAttribute("class"):e.className=t}function E(e,t,n,s){if(Array.isArray(n)){const l=n[0];e.addEventListener(t,n[0]=o=>l.call(e,n[1],o))}else e.addEventListener(t,n,typeof n!="function"&&n)}function Re(e,t,n){return B(()=>e(t,n))}function m(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return fe(e,t,s,n);x(l=>fe(e,t(),l,n),s)}function fe(e,t,n,s,l){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,d=s!==void 0;if(e=d&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(d){let r=n[0];r&&r.nodeType===3?r.data!==t&&(r.data=t):r=document.createTextNode(t),n=W(e,n,s,r)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=W(e,n,s);else{if(o==="function")return x(()=>{let r=t();for(;typeof r=="function";)r=r();n=fe(e,r,n,s)}),()=>n;if(Array.isArray(t)){const r=[],a=n&&Array.isArray(n);if(Ge(r,t,n,l))return x(()=>n=fe(e,r,n,s,!0)),()=>n;if(r.length===0){if(n=W(e,n,s),d)return n}else a?n.length===0?Ue(e,r,s):$t(e,n,r):(n&&W(e),Ue(e,r));n=r}else if(t.nodeType){if(Array.isArray(n)){if(d)return n=W(e,n,s,t);W(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Ge(e,t,n,s){let l=!1;for(let o=0,d=t.length;o<d;o++){let r=t[o],a=n&&n[e.length],c;if(!(r==null||r===!0||r===!1))if((c=typeof r)=="object"&&r.nodeType)e.push(r);else if(Array.isArray(r))l=Ge(e,r,a)||l;else if(c==="function")if(s){for(;typeof r=="function";)r=r();l=Ge(e,Array.isArray(r)?r:[r],Array.isArray(a)?a:[a])||l}else e.push(r),l=!0;else{const u=String(r);a&&a.nodeType===3&&a.data===u?e.push(a):e.push(document.createTextNode(u))}}return l}function Ue(e,t,n=null){for(let s=0,l=t.length;s<l;s++)e.insertBefore(t[s],n)}function W(e,t,n,s){if(n===void 0)return e.textContent="";const l=s||document.createTextNode("");if(t.length){let o=!1;for(let d=t.length-1;d>=0;d--){const r=t[d];if(l!==r){const a=r.parentNode===e;!o&&!d?a?e.replaceChild(l,r):e.insertBefore(l,n):a&&r.remove()}else o=!0}}else e.insertBefore(l,n);return[l]}const Le=Symbol("store-raw"),X=Symbol("store-node"),O=Symbol("store-has"),st=Symbol("store-self");function ot(e){let t=e[R];if(!t&&(Object.defineProperty(e,R,{value:t=new Proxy(e,Tt)}),!Array.isArray(e))){const n=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let l=0,o=n.length;l<o;l++){const d=n[l];s[d].get&&Object.defineProperty(e,d,{enumerable:s[d].enumerable,get:s[d].get.bind(t)})}}return t}function me(e){let t;return e!=null&&typeof e=="object"&&(e[R]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function se(e,t=new Set){let n,s,l,o;if(n=e!=null&&e[Le])return n;if(!me(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let d=0,r=e.length;d<r;d++)l=e[d],(s=se(l,t))!==l&&(e[d]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const d=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let a=0,c=d.length;a<c;a++)o=d[a],!r[o].get&&(l=e[o],(s=se(l,t))!==l&&(e[o]=s))}return e}function Se(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function oe(e,t,n){if(e[t])return e[t];const[s,l]=ue(n,{equals:!1,internal:!0});return s.$=l,e[t]=s}function Pt(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===R||t===X||(delete n.value,delete n.writable,n.get=()=>e[R][t]),n}function lt(e){Ke()&&oe(Se(e,X),st)()}function Dt(e){return lt(e),Reflect.ownKeys(e)}const Tt={get(e,t,n){if(t===Le)return e;if(t===R)return n;if(t===Ee)return lt(e),n;const s=Se(e,X),l=s[t];let o=l?l():e[t];if(t===X||t===O||t==="__proto__")return o;if(!l){const d=Object.getOwnPropertyDescriptor(e,t);Ke()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(d&&d.get)&&(o=oe(s,t,o)())}return me(o)?ot(o):o},has(e,t){return t===Le||t===R||t===Ee||t===X||t===O||t==="__proto__"?!0:(Ke()&&oe(Se(e,O),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Dt,getOwnPropertyDescriptor:Pt};function he(e,t,n,s=!1){if(!s&&e[t]===n)return;const l=e[t],o=e.length;n===void 0?(delete e[t],e[O]&&e[O][t]&&l!==void 0&&e[O][t].$()):(e[t]=n,e[O]&&e[O][t]&&l===void 0&&e[O][t].$());let d=Se(e,X),r;if((r=oe(d,t,l))&&r.$(()=>n),Array.isArray(e)&&e.length!==o){for(let a=e.length;a<o;a++)(r=d[a])&&r.$();(r=oe(d,"length",o))&&r.$(e.length)}(r=d[st])&&r.$()}function it(e,t){const n=Object.keys(t);for(let s=0;s<n.length;s+=1){const l=n[s];he(e,l,t[l])}}function It(e,t){if(typeof t=="function"&&(t=t(e)),t=se(t),Array.isArray(t)){if(e===t)return;let n=0,s=t.length;for(;n<s;n++){const l=t[n];e[n]!==l&&he(e,n,l)}he(e,"length",s)}else it(e,t)}function ee(e,t,n=[]){let s,l=e;if(t.length>1){s=t.shift();const d=typeof s,r=Array.isArray(e);if(Array.isArray(s)){for(let a=0;a<s.length;a++)ee(e,[s[a]].concat(t),n);return}else if(r&&d==="function"){for(let a=0;a<e.length;a++)s(e[a],a)&&ee(e,[a].concat(t),n);return}else if(r&&d==="object"){const{from:a=0,to:c=e.length-1,by:u=1}=s;for(let i=a;i<=c;i+=u)ee(e,[i].concat(t),n);return}else if(t.length>1){ee(e[s],t,[s].concat(n));return}l=e[s],n=[s].concat(n)}let o=t[0];typeof o=="function"&&(o=o(l,n),o===l)||s===void 0&&o==null||(o=se(o),s===void 0||me(l)&&me(o)&&!Array.isArray(o)?it(l,o):he(e,s,o))}function Ft(...[e,t]){const n=se(e||{}),s=Array.isArray(n),l=ot(n);function o(...d){St(()=>{s&&d.length===1?It(n,d[0]):ee(n,d)})}return[l,o]}let w={audioCtx:new AudioContext,gainNodes:[],oscs:[],lpFilter:void 0};const qe=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],rt=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],le=qe,dt={C0:16.35,"C#0":17.32,D0:18.35,"D#0":19.45,E0:20.6,F0:21.83,"F#0":23.12,G0:24.5,"G#0":25.96,A0:27.5,"A#0":29.14,B0:30.87,C1:32.7,"C#1":34.65,D1:36.71,"D#1":38.89,E1:41.2,F1:43.65,"F#1":46.25,G1:49,"G#1":51.91,A1:55,"A#1":58.27,B1:61.74,C2:65.41,"C#2":69.3,D2:73.42,"D#2":77.78,E2:82.41,F2:87.31,"F#2":92.5,G2:98,"G#2":103.83,A2:110,"A#2":116.54,B2:123.47,C3:130.81,"C#3":138.59,D3:146.83,"D#3":155.56,E3:164.81,F3:174.61,"F#3":185,G3:196,"G#3":207.65,A3:220,"A#3":233.08,B3:246.94,C4:261.63,"C#4":277.18,D4:293.66,"D#4":311.13,E4:329.63,F4:349.23,"F#4":369.99,G4:392,"G#4":415.3,A4:440,"A#4":466.16,B4:493.88,C5:523.25,"C#5":554.37,D5:587.33,"D#5":622.25,E5:659.26,F5:698.46,"F#5":739.99,G5:783.99,"G#5":830.61,A5:880,"A#5":932.33,B5:987.77,C6:1046.5,"C#6":1108.73,D6:1174.66,"D#6":1244.51,E6:1318.51,F6:1396.91,"F#6":1479.98,G6:1567.98,"G#6":1661.22,A6:1760,"A#6":1864.66,B6:1975.53,C7:2093,"C#7":2217.46,D7:2349.32,"D#7":2489,E7:2637,F7:2793.83,"F#7":2959.96,G7:3135.96,"G#7":3322.44,A7:3520,"A#7":3729.31,B7:3951,C8:4186,"C#8":4434.92,D8:4698.63,"D#8":4978,E8:5274,F8:5587.65,"F#8":5919.91,G8:6271.93,"G#8":6644.88,A8:7040,"A#8":7458.62,B8:7902.13},kt=Object.keys(dt),Nt=()=>({powerTypes:[{set:new Set([0,7]),name:"Power"}],majTypes:[{set:new Set([0,4]),name:"Maj"},{set:new Set([0,4,11]),name:"Maj7"},{set:new Set([0,4,11,2]),name:"Maj9"},{set:new Set([0,4,11,2,5]),name:"Maj11"},{set:new Set([0,4,11,2,5,9]),name:"Maj13"},{set:new Set([0,4,2]),name:"MajAdd9"},{set:new Set([0,4,5]),name:"MajAdd11"},{set:new Set([0,4,9]),name:"Maj6"},{set:new Set([0,4,2,5]),name:"MajAdd9Add11"},{set:new Set([0,4,2,9]),name:"Maj69"},{set:new Set([0,4,5,9]),name:"MajAdd11Add13"},{set:new Set([0,4,2,5,9]),name:"MajAdd9Add11Add13"},{set:new Set([0,4,11,2,9]),name:"Maj9Add13"},{set:new Set([0,4,11,9]),name:"Maj7Add13"}],minTypes:[{set:new Set([0,3]),name:"min"},{set:new Set([0,3,9]),name:"min6"},{set:new Set([0,3,10]),name:"min7"},{set:new Set([0,3,10,2]),name:"min9"},{set:new Set([0,3,10,2,5]),name:"min11"},{set:new Set([0,3,10,2,5,9]),name:"min13"},{set:new Set([0,3,2]),name:"minAdd9"},{set:new Set([0,3,5]),name:"minAdd11"},{set:new Set([0,3,2,5]),name:"minAdd9Add11"},{set:new Set([0,3,2,9]),name:"min6Add9"},{set:new Set([0,3,2,5,9]),name:"minAdd9Add11Add13"},{set:new Set([0,3,10,5]),name:"min7Add11"}],domTypes:[{set:new Set([0,4,10]),name:"(Dom)7"},{set:new Set([0,4,10,2]),name:"(Dom)9"},{set:new Set([0,4,10,2,5]),name:"(Dom)11"},{set:new Set([0,4,10,2,5,9]),name:"(Dom)13"},{set:new Set([0,4,10,1]),name:"(Dom)7b9"},{set:new Set([0,4,10,3]),name:"(Dom)7#9"},{set:new Set([0,4,10,6]),name:"(Dom)7b5"},{set:new Set([0,4,10,8]),name:"(Dom)7b13"},{set:new Set([0,4,10,2,6]),name:"(Dom)9b5"},{set:new Set([0,4,10,1,3,6,8]),name:"Alt"}],susTypes:[{set:new Set([0,5]),name:"sus4"},{set:new Set([0,2]),name:"sus2"},{set:new Set([0,2,5]),name:"sus2sus4"},{set:new Set([0,5,10]),name:"(Dom)7sus4"},{set:new Set([0,2,10]),name:"(Dom)7sus2"},{set:new Set([0,5,10,2]),name:"(Dom)9sus4"},{set:new Set([0,5,10,1]),name:"(Dom)7b9sus"},{set:new Set([0,10,2,5,9]),name:"sus13"},{set:new Set([0,10,1,5,9]),name:"sus13b9"},{set:new Set([0,5,1]),name:"sus4b9"}],augTypes:[{set:new Set([0,4,8]),name:"Aug"},{set:new Set([0,4,8,10]),name:"Aug7"},{set:new Set([0,4,8,11]),name:"AugMaj7"}],minMajTypes:[{set:new Set([0,3,11]),name:"minMaj"},{set:new Set([0,3,11,2]),name:"minMaj9"},{set:new Set([0,3,11,2,8]),name:"minMaj9b13"}],dimTypes:[{set:new Set([0,3,6]),name:"dim"},{set:new Set([0,3,6,10]),name:"halfDim"},{set:new Set([0,3,6,9]),name:"fullDim"}],otherTypes:[{set:new Set([0,4,6]),name:"Majb5"},{set:new Set([0,4,6,11]),name:"Maj7b5"},{set:new Set([0,4,6,11,2]),name:"Maj9b5"},{set:new Set([0,4,7,11,6]),name:"Maj7Add#11"},{set:new Set([0,4,7,11,2,6]),name:"Maj9Add#11"},{set:new Set([0,4,7,11,2,6,9]),name:"Maj13#11Set"},{set:new Set([0,4,7,6]),name:"MajAdd#11"}]}),Fe=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],ke=["A","Bb","B","C","Db","D","Eb","E","F","Gb","G","Ab"],Ot=()=>{w.lpFilter=w.audioCtx.createBiquadFilter(),w.lpFilter.type="lowpass",w.lpFilter.frequency.value=800,w.lpFilter.Q.value=5,w.lpFilter.connect(w.audioCtx.destination)},Et=()=>{w.gainNodes.forEach(e=>{e.disconnect()}),w.gainNodes=[],w.oscs.forEach(e=>{e.disconnect()}),w.oscs=[]},Ne=(e,t,n)=>{Ot(),Et();for(let l=0;l<e.length;l+=1){let o=w.audioCtx.createGain();w.gainNodes.push(o),o.gain.value=0,o.connect(w.lpFilter);let d=w.audioCtx.createOscillator();d.type="sawtooth",d.frequency.value=dt[e[l]],d.connect(o),d.start(),w.oscs.push(d)}const s=n?0:1;for(let l=0;l<e.length;l+=1)w.gainNodes[l].gain.value=s*t*.7/(e.length+1)};function He(e,t){const n=t?0:1;for(let s=0;s<w.gainNodes.length;s+=1)w.gainNodes[s].gain.value=n*e*.7/(w.gainNodes.length+1)}function Kt(e,t=!1){const n=Nt();let s;t?s=ke:s=Fe;const l=ge(e)[0];e=ge(e).map(u=>t?Gt(u.slice(0,u.length-1)):u.slice(0,u.length-1));let o=[],d=new Set;for(let u=0;u<e.length;u+=1){let i=e[u];Fe.includes(i)?d.add(Fe.indexOf(i)):ke.includes(i)&&d.add(ke.indexOf(i))}let r=Array.from(d),a;for(let u=0;u<12;u+=1){a=new Set;for(let i=0;i<r.length;i+=1)a.add((r[i]+u)%12);a.delete(7);for(let i=0;i<n.powerTypes.length;i+=1)N(a,n.powerTypes[i].set)&&o.push(s[(12-u)%12]+` ${n.powerTypes[i].name}`);a=new Set;for(let i=0;i<r.length;i+=1)a.add((r[i]+u)%12);a.delete(7);for(let i=0;i<n.majTypes.length;i+=1)N(a,n.majTypes[i].set)&&o.push(s[(12-u)%12]+` ${n.majTypes[i].name}`);a=new Set;for(let i=0;i<r.length;i+=1)a.add((r[i]+u)%12);a.delete(7);for(let i=0;i<n.minTypes.length;i+=1)N(a,n.minTypes[i].set)&&o.push(s[(12-u)%12]+` ${n.minTypes[i].name}`);a=new Set;for(let i=0;i<r.length;i+=1)a.add((r[i]+u)%12);a.delete(7);for(let i=0;i<n.domTypes.length;i+=1)N(a,n.domTypes[i].set)&&o.push(s[(12-u)%12]+` ${n.domTypes[i].name}`);a=new Set;for(let i=0;i<r.length;i+=1)a.add((r[i]+u)%12);a.delete(7);for(let i=0;i<n.susTypes.length;i+=1)N(a,n.susTypes[i].set)&&o.push(s[(12-u)%12]+` ${n.susTypes[i].name}`);a=new Set;for(let i=0;i<r.length;i+=1)a.add((r[i]+u)%12);a.delete(7);for(let i=0;i<n.dimTypes.length;i+=1)N(a,n.dimTypes[i].set)&&o.push(s[(12-u)%12]+` ${n.dimTypes[i].name}`);a=new Set;for(let i=0;i<r.length;i+=1)a.add((r[i]+u)%12);a.delete(7);for(let i=0;i<n.minMajTypes.length;i+=1)N(a,n.minMajTypes[i].set)&&o.push(s[(12-u)%12]+` ${n.minMajTypes[i].name}`);a=new Set;for(let i=0;i<r.length;i+=1)a.add((r[i]+u)%12);a.delete(7);for(let i=0;i<n.augTypes.length;i+=1)N(a,n.augTypes[i].set)&&o.push(s[(12-u)%12]+` ${n.augTypes[i].name}`);a=new Set;for(let i=0;i<r.length;i+=1)a.add((r[i]+u)%12);a.delete(7);for(let i=0;i<n.otherTypes.length;i+=1)N(a,n.otherTypes[i].set)&&o.push(s[(12-u)%12]+` ${n.otherTypes[i].name}`)}let c;if(o.length===1)c=o[0],o=[];else if(l){for(let u=0;u<o.length;u+=1)if(l.slice(0,-1)===o[u].slice(0,l.length-1)){c=o[u],o=o.slice(0,u).concat(o.slice(u+1,o.length));break}}return{possibleChords:o,mostLikely:c}}function N(e,t){return e.size===t.size&&[...e].every(n=>t.has(n))}function Bt(e){return rt[qe.indexOf(e.slice(0,e.length-1))]+e[e.length-1]}function Gt(e){return rt[qe.indexOf(e)]}function ge(e){if(e.length<=1)return[...e];let t=Math.floor(e.length/2),n=e.slice(0,t),s=e.slice(t,e.length);return qt(ge(n),ge(s),Lt)}function Lt(e,t){let n=parseInt(e.slice(e.length-1,e.length)),s=parseInt(t.slice(t.length-1,t.length));return n<s?1:n>s?-1:le.indexOf(e.slice(0,e.length-1))<le.indexOf(t.slice(0,t.length-1))?1:le.indexOf(e.slice(0,e.length-1))>le.indexOf(t.slice(0,t.length-1))?-1:0}function qt(e,t,n){let s=[];for(;e.length>0&&t.length>0;)n(e[0],t[0])===1?s.push(e.shift()):s.push(t.shift());return s.concat(e).concat(t)}const at=gt();function Vt(e){const[t,n]=Ft({notesPressed:[],notesPressedFlats:[],chordInfo:{possibleChords:[]},sharps:!0,volume:1,muted:!1,midiMode:!1}),u=[t,{addNotePressed:i=>{n({...t,notesPressed:[...t.notesPressed,i],notesPressedFlats:[...t.notesPressedFlats,Bt(i)]}),Ne(t.notesPressed,t.volume,t.muted)},removeNotePressed:i=>{if(t.notesPressed.includes(i)){const C=t.notesPressed.indexOf(i);n({...t,notesPressed:[...t.notesPressed.slice(0,C),...t.notesPressed.slice(C+1)],notesPressedFlats:[...t.notesPressedFlats.slice(0,C),...t.notesPressedFlats.slice(C+1)]})}Ne(t.notesPressed,t.volume,t.muted)},clearAllNotes:()=>{n({...t,notesPressed:[],notesPressedFlats:[]}),Ne(t.notesPressed,t.volume,t.muted)},adjustVolume:i=>{n({...t,volume:i}),He(t.volume,t.muted)},setMuted:i=>{n({...t,muted:i}),He(t.volume,t.muted)},setSharps:i=>{n({...t,sharps:i})},setMidiMode:i=>{n({...t,midiMode:i})}}];return f(at.Provider,{value:u,get children(){return e.children}})}function we(){return pt(at)}const Rt="_App_7t288_1",Ut="_whiteKey_7t288_7",Ht="_whiteKeyPressed_7t288_22",Qt="_blackKey_7t288_37",Wt="_blackKeyPressed_7t288_55",Xt="_fakeKey_7t288_73",Yt="_blackKeyContainer_7t288_85",zt="_whiteKeyContainer_7t288_94",Jt="_octaveContainer_7t288_102",Zt="_pianoContainer_7t288_106",en="_chordInfo_7t288_110",tn="_controlsText_7t288_115",nn="_controlsButton_7t288_122",sn="_controlsCheckbox_7t288_131",on="_controlsSlider_7t288_139",ln="_mostLikely_7t288_144",rn="_possibleChords_7t288_149",g={App:Rt,whiteKey:Ut,whiteKeyPressed:Ht,blackKey:Qt,blackKeyPressed:Wt,fakeKey:Xt,blackKeyContainer:Yt,whiteKeyContainer:zt,octaveContainer:Jt,pianoContainer:Zt,chordInfo:en,controlsText:tn,controlsButton:nn,controlsCheckbox:sn,controlsSlider:on,mostLikely:ln,possibleChords:rn};var Qe=K("<div>");const q=e=>{const[t,{addNotePressed:n,removeNotePressed:s}]=we(),l=k(()=>t.notesPressed.includes(e.note));return f(te,{get when(){return!l()},get fallback(){return(()=>{var o=Qe();return E(o,"click",()=>{s(e.note)}),x(()=>h(o,g.whiteKeyPressed)),o})()},get children(){var o=Qe();return E(o,"click",()=>{n(e.note)}),x(()=>h(o,g.whiteKey)),o}})};var We=K("<div>");const Z=e=>{const[t,{addNotePressed:n,removeNotePressed:s}]=we(),l=k(()=>t.notesPressed.includes(e.note));return f(te,{get when(){return!l()},get fallback(){return(()=>{var o=We();return E(o,"click",()=>{s(e.note)}),x(()=>h(o,g.blackKeyPressed)),o})()},get children(){var o=We();return E(o,"click",()=>{n(e.note)}),x(()=>h(o,g.blackKey)),o}})};var dn=K("<div><div><div id=E#></div><div id=B#></div></div><div>");const ie=e=>(()=>{var t=dn(),n=t.firstChild,s=n.firstChild,l=s.nextSibling,o=n.nextSibling;return m(n,f(Z,{get note(){return`C#${e.octaveIdx}`}}),s),m(n,f(Z,{get note(){return`D#${e.octaveIdx}`}}),s),m(n,f(Z,{get note(){return`F#${e.octaveIdx}`}}),l),m(n,f(Z,{get note(){return`G#${e.octaveIdx}`}}),l),m(n,f(Z,{get note(){return`A#${e.octaveIdx}`}}),l),m(o,f(q,{get note(){return`C${e.octaveIdx}`}}),null),m(o,f(q,{get note(){return`D${e.octaveIdx}`}}),null),m(o,f(q,{get note(){return`E${e.octaveIdx}`}}),null),m(o,f(q,{get note(){return`F${e.octaveIdx}`}}),null),m(o,f(q,{get note(){return`G${e.octaveIdx}`}}),null),m(o,f(q,{get note(){return`A${e.octaveIdx}`}}),null),m(o,f(q,{get note(){return`B${e.octaveIdx}`}}),null),x(d=>{var r=g.octaveContainer,a=g.blackKeyContainer,c=g.fakeKey,u=g.fakeKey,i=g.whiteKeyContainer;return r!==d.e&&h(t,d.e=r),a!==d.t&&h(n,d.t=a),c!==d.a&&h(s,d.a=c),u!==d.o&&h(l,d.o=u),i!==d.i&&h(o,d.i=i),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),t})();var an=K("<div>");const un=e=>(()=>{var t=an();return m(t,f(ie,{octaveIdx:2}),null),m(t,f(ie,{octaveIdx:3}),null),m(t,f(ie,{octaveIdx:4}),null),m(t,f(ie,{octaveIdx:5}),null),x(()=>h(t,g.pianoContainer)),t})();var Oe=K("<div>"),cn=K("<div>Most Likely: "),fn=K("<div>Possible chords:");const mn=e=>{const[t,{addNotePressed:n,removeNotePressed:s}]=we(),l=k(()=>Kt(t.notesPressed,!t.sharps)),o=k(()=>(t.sharps?t.notesPressed:t.notesPressedFlats).map(u=>u+",").join(" ").slice(0,-1)),d=()=>l().mostLikely,r=()=>l().possibleChords;return(()=>{var a=Oe();return m(a,f(te,{get when(){return o().length>0},get children(){return["Notes pressed:",(()=>{var c=Oe();return m(c,o),c})()]}}),null),m(a,f(te,{get when(){return d()},get children(){var c=cn();return c.firstChild,m(c,d,null),x(()=>h(c,g.mostLikely)),c}}),null),m(a,f(te,{get when(){return r().length>0},get children(){var c=fn();return c.firstChild,m(c,f(_t,{get each(){return r()},children:(u,i)=>(()=>{var C=Oe();return m(C,u),C})()}),null),x(()=>h(c,g.possibleChords)),c}}),null),x(()=>h(a,g.chordInfo)),a})()};var Sn=K("<div><div>Volume <input type=range value=100 min=0 max=100></div><div>Muted <input type=checkbox></div><div>Sharps <input type=checkbox></div><button>Clear Notes</button><div>Use MIDI <input type=checkbox>");const hn=e=>{const[t,{clearAllNotes:n,adjustVolume:s,setMuted:l,setSharps:o,addNotePressed:d,removeNotePressed:r,setMidiMode:a}]=we(),[c,u]=ue(!1),[i,C]=ue(!0);let _,P;const I=()=>{const F=window.navigator;let A=null,$=!1;function j(b){console.log("MIDI ready!"),A=b,H(A),Q(A)}function D(b){console.error(`Failed to get MIDI access - ${b}`)}function H(b){for(const T of b.inputs){const v=T[1];console.log(`Input port [type:'${v.type}'] id:'${v.id}' manufacturer:'${v.manufacturer}' name:'${v.name}' version:'${v.version}'`)}for(const T of b.outputs){const v=T[1];console.log(`Output port [type:'${v.type}'] id:'${v.id}' manufacturer:'${v.manufacturer}' name:'${v.name}' version:'${v.version}'`)}}function z(b){if(t.midiMode){`${b.timeStamp}${b.data.length}`;let T="";for(const v of b.data)T+=`0x${v.toString(16)} `;if(T!=="0xf8 "){const v=kt[parseInt(b.data.slice(1))];parseInt(b.data[2])>0?d(v):r(v)}}}function Q(b){$||b.inputs.forEach(T=>{T.onmidimessage=z}),$=!0}return{runMidiStuff:()=>{F.requestMIDIAccess().then(j,D)},cancelMidiStuff:()=>{}}},{runMidiStuff:G}=I();return(()=>{var F=Sn(),A=F.firstChild,$=A.firstChild,j=$.nextSibling,D=A.nextSibling,H=D.firstChild,z=H.nextSibling,Q=D.nextSibling,Ae=Q.firstChild,J=Ae.nextSibling,b=Q.nextSibling,T=b.nextSibling,v=T.firstChild,L=v.nextSibling;E(j,"input",()=>{_&&s(parseFloat(_.value)*.01)});var be=_;typeof be=="function"?Re(be,j):_=j,E(z,"change",()=>{u(!c()),l(c())}),E(J,"change",()=>{C(!i()),o(i())}),E(b,"click",()=>{n()}),E(L,"change",()=>{P&&(P.checked?(a(!0),n(),G()):(a(!1),n()))});var ve=P;return typeof ve=="function"?Re(ve,L):P=L,x(y=>{var Ce=g.controlsText,je=g.controlsSlider,xe=g.controlsText,_e=g.controlsCheckbox,$e=g.controlsText,Me=g.controlsCheckbox,Pe=g.controlsButton,De=g.controlsText,Te=g.controlsCheckbox;return Ce!==y.e&&h(A,y.e=Ce),je!==y.t&&h(j,y.t=je),xe!==y.a&&h(D,y.a=xe),_e!==y.o&&h(z,y.o=_e),$e!==y.i&&h(Q,y.i=$e),Me!==y.n&&h(J,y.n=Me),Pe!==y.s&&h(b,y.s=Pe),De!==y.h&&h(T,y.h=De),Te!==y.r&&h(L,y.r=Te),y},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),x(()=>J.checked=i()),x(()=>L.checked=t.midiMode),F})()};var gn=K("<div>");const pn=()=>f(Vt,{get children(){var e=gn();return m(e,f(hn,{}),null),m(e,f(un,{}),null),m(e,f(mn,{}),null),x(()=>h(e,g.App)),e}}),yn=document.getElementById("root");Mt(()=>f(pn,{}),yn);
