(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const _t=!1,Mt=(e,t)=>e===t,Q=Symbol("solid-proxy"),He=Symbol("solid-track"),be={equals:Mt};let ct=vt;const R=1,Ae=2,ft={owned:null,cleanups:null,context:null,owner:null};var A=null;let qe=null,$t=null,x=null,D=null,B=null,$e=0;function we(e,t){const n=x,s=A,i=e.length===0,o=t===void 0?s:t,d=i?ft:{owned:null,cleanups:null,context:o?o.context:null,owner:o},l=i?e:()=>e(()=>G(()=>oe(d)));A=d,x=null;try{return Z(l,!0)}finally{x=n,A=s}}function se(e,t){t=t?Object.assign({},be,t):be;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=i=>(typeof i=="function"&&(i=i(n.value)),St(n,i));return[ht.bind(n),s]}function _(e,t,n){const s=tt(e,t,!1,R);le(s)}function Dt(e,t,n){ct=Nt;const s=tt(e,t,!1,R);s.user=!0,B?B.push(s):le(s)}function I(e,t,n){n=n?Object.assign({},be,n):be;const s=tt(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,le(s),ht.bind(s)}function Tt(e){return Z(e,!1)}function G(e){if(x===null)return e();const t=x;x=null;try{return e()}finally{x=t}}function mt(e){Dt(()=>G(e))}function et(e){return A===null||(A.cleanups===null?A.cleanups=[e]:A.cleanups.push(e)),e}function Qe(){return x}function kt(e,t){const n=Symbol("context");return{id:n,Provider:zt(n),defaultValue:e}}function Ft(e){let t;return A&&A.context&&(t=A.context[e.id])!==void 0?t:e.defaultValue}function It(e){const t=I(e),n=I(()=>Xe(t()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}function ht(){if(this.sources&&this.state)if(this.state===R)le(this);else{const e=D;D=null,Z(()=>je(this),!1),D=e}if(x){const e=this.observers?this.observers.length:0;x.sources?(x.sources.push(this),x.sourceSlots.push(e)):(x.sources=[this],x.sourceSlots=[e]),this.observers?(this.observers.push(x),this.observerSlots.push(x.sources.length-1)):(this.observers=[x],this.observerSlots=[x.sources.length-1])}return this.value}function St(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&Z(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],d=qe&&qe.running;d&&qe.disposed.has(o),(d?!o.tState:!o.state)&&(o.pure?D.push(o):B.push(o),o.observers&&yt(o)),d||(o.state=R)}if(D.length>1e6)throw D=[],new Error},!1)),t}function le(e){if(!e.fn)return;oe(e);const t=$e;Et(e,e.value,t)}function Et(e,t,n){let s;const i=A,o=x;x=A=e;try{s=e.fn(t)}catch(d){return e.pure&&(e.state=R,e.owned&&e.owned.forEach(oe),e.owned=null),e.updatedAt=n+1,gt(d)}finally{x=o,A=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?St(e,s):e.value=s,e.updatedAt=n)}function tt(e,t,n,s=R,i){const o={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:A,context:A?A.context:null,pure:n};return A===null||A!==ft&&(A.owned?A.owned.push(o):A.owned=[o]),o}function Ce(e){if(e.state===0)return;if(e.state===Ae)return je(e);if(e.suspense&&G(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<$e);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===R)le(e);else if(e.state===Ae){const s=D;D=null,Z(()=>je(e,t[0]),!1),D=s}}function Z(e,t){if(D)return e();let n=!1;t||(D=[]),B?n=!0:B=[],$e++;try{const s=e();return Ot(n),s}catch(s){n||(B=null),D=null,gt(s)}}function Ot(e){if(D&&(vt(D),D=null),e)return;const t=B;B=null,t.length&&Z(()=>ct(t),!1)}function vt(e){for(let t=0;t<e.length;t++)Ce(e[t])}function Nt(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:Ce(s)}for(t=0;t<n;t++)Ce(e[t])}function je(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const i=s.state;i===R?s!==t&&(!s.updatedAt||s.updatedAt<$e)&&Ce(s):i===Ae&&je(s,t)}}}function yt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Ae,n.pure?D.push(n):B.push(n),n.observers&&yt(n))}}function oe(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),d=n.observerSlots.pop();s<i.length&&(o.sourceSlots[d]=s,i[s]=o,n.observerSlots[s]=d)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)oe(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)oe(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Lt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function gt(e,t=A){throw Lt(e)}function Xe(e){if(typeof e=="function"&&!e.length)return Xe(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=Xe(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function zt(e,t){return function(s){let i;return _(()=>i=G(()=>(A.context={...A.context,[e]:s.value},It(()=>s.children))),void 0),i}}const Kt=Symbol("fallback");function ot(e){for(let t=0;t<e.length;t++)e[t]()}function Bt(e,t,n={}){let s=[],i=[],o=[],d=0,l=t.length>1?[]:null;return et(()=>ot(o)),()=>{let a=e()||[],f=a.length,u,r;return a[He],G(()=>{let m,g,S,$,O,M,j,T,k;if(f===0)d!==0&&(ot(o),o=[],s=[],i=[],d=0,l&&(l=[])),n.fallback&&(s=[Kt],i[0]=we(N=>(o[0]=N,n.fallback())),d=1);else if(d===0){for(i=new Array(f),r=0;r<f;r++)s[r]=a[r],i[r]=we(c);d=f}else{for(S=new Array(f),$=new Array(f),l&&(O=new Array(f)),M=0,j=Math.min(d,f);M<j&&s[M]===a[M];M++);for(j=d-1,T=f-1;j>=M&&T>=M&&s[j]===a[T];j--,T--)S[T]=i[j],$[T]=o[j],l&&(O[T]=l[j]);for(m=new Map,g=new Array(T+1),r=T;r>=M;r--)k=a[r],u=m.get(k),g[r]=u===void 0?-1:u,m.set(k,r);for(u=M;u<=j;u++)k=s[u],r=m.get(k),r!==void 0&&r!==-1?(S[r]=i[u],$[r]=o[u],l&&(O[r]=l[u]),r=g[r],m.set(k,r)):o[u]();for(r=M;r<f;r++)r in S?(i[r]=S[r],o[r]=$[r],l&&(l[r]=O[r],l[r](r))):i[r]=we(c);i=i.slice(0,d=f),s=a.slice(0)}return i});function c(m){if(o[r]=m,l){const[g,S]=se(r);return l[r]=S,t(a[r],g)}return t(a[r])}}}function p(e,t){return G(()=>e(t||{}))}const Gt=e=>`Stale read from <${e}>.`;function pt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return I(Bt(()=>e.each,e.children,t||void 0))}function ne(e){const t=e.keyed,n=I(()=>e.when,void 0,void 0),s=t?n:I(n,void 0,{equals:(i,o)=>!i==!o});return I(()=>{const i=s();if(i){const o=e.children;return typeof o=="function"&&o.length>0?G(()=>o(t?i:()=>{if(!G(s))throw Gt("Show");return n()})):o}return e.fallback},void 0,void 0)}function Vt(e,t,n){let s=n.length,i=t.length,o=s,d=0,l=0,a=t[i-1].nextSibling,f=null;for(;d<i||l<o;){if(t[d]===n[l]){d++,l++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===d){const u=o<s?l?n[l-1].nextSibling:n[o-l]:a;for(;l<o;)e.insertBefore(n[l++],u)}else if(o===l)for(;d<i;)(!f||!f.has(t[d]))&&t[d].remove(),d++;else if(t[d]===n[o-1]&&n[l]===t[i-1]){const u=t[--i].nextSibling;e.insertBefore(n[l++],t[d++].nextSibling),e.insertBefore(n[--o],u),t[i]=n[o]}else{if(!f){f=new Map;let r=l;for(;r<o;)f.set(n[r],r++)}const u=f.get(t[d]);if(u!=null)if(l<u&&u<o){let r=d,c=1,m;for(;++r<i&&r<o&&!((m=f.get(t[r]))==null||m!==u+c);)c++;if(c>u-l){const g=t[d];for(;l<u;)e.insertBefore(n[l++],g)}else e.replaceChild(n[l++],t[d++])}else d++;else t[d++].remove()}}}function qt(e,t,n,s={}){let i;return we(o=>{i=o,t===document?e():w(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{i(),t.textContent=""}}function E(e,t,n,s){let i;const o=()=>{const l=document.createElement("template");return l.innerHTML=e,l.content.firstChild},d=()=>(i||(i=o())).cloneNode(!0);return d.cloneNode=d,d}function Rt(e,t,n){e.setAttribute(t,n)}function v(e,t){t==null?e.removeAttribute("class"):e.className=t}function K(e,t,n,s){if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n,typeof n!="function"&&n)}function it(e,t,n){return G(()=>e(t,n))}function w(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return xe(e,t,s,n);_(i=>xe(e,t(),i,n),s)}function xe(e,t,n,s,i){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,d=s!==void 0;if(e=d&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(d){let l=n[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),n=X(e,n,s,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=X(e,n,s);else{if(o==="function")return _(()=>{let l=t();for(;typeof l=="function";)l=l();n=xe(e,l,n,s)}),()=>n;if(Array.isArray(t)){const l=[],a=n&&Array.isArray(n);if(Ye(l,t,n,i))return _(()=>n=xe(e,l,n,s,!0)),()=>n;if(l.length===0){if(n=X(e,n,s),d)return n}else a?n.length===0?rt(e,l,s):Vt(e,n,l):(n&&X(e),rt(e,l));n=l}else if(t.nodeType){if(Array.isArray(n)){if(d)return n=X(e,n,s,t);X(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Ye(e,t,n,s){let i=!1;for(let o=0,d=t.length;o<d;o++){let l=t[o],a=n&&n[e.length],f;if(!(l==null||l===!0||l===!1))if((f=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))i=Ye(e,l,a)||i;else if(f==="function")if(s){for(;typeof l=="function";)l=l();i=Ye(e,Array.isArray(l)?l:[l],Array.isArray(a)?a:[a])||i}else e.push(l),i=!0;else{const u=String(l);a&&a.nodeType===3&&a.data===u?e.push(a):e.push(document.createTextNode(u))}}return i}function rt(e,t,n=null){for(let s=0,i=t.length;s<i;s++)e.insertBefore(t[s],n)}function X(e,t,n,s){if(n===void 0)return e.textContent="";const i=s||document.createTextNode("");if(t.length){let o=!1;for(let d=t.length-1;d>=0;d--){const l=t[d];if(i!==l){const a=l.parentNode===e;!o&&!d?a?e.replaceChild(i,l):e.insertBefore(i,n):a&&l.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}const Ze=Symbol("store-raw"),Y=Symbol("store-node"),z=Symbol("store-has"),wt=Symbol("store-self");function bt(e){let t=e[Q];if(!t&&(Object.defineProperty(e,Q,{value:t=new Proxy(e,Ht)}),!Array.isArray(e))){const n=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let i=0,o=n.length;i<o;i++){const d=n[i];s[d].get&&Object.defineProperty(e,d,{enumerable:s[d].enumerable,get:s[d].get.bind(t)})}}return t}function Pe(e){let t;return e!=null&&typeof e=="object"&&(e[Q]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function ie(e,t=new Set){let n,s,i,o;if(n=e!=null&&e[Ze])return n;if(!Pe(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let d=0,l=e.length;d<l;d++)i=e[d],(s=ie(i,t))!==i&&(e[d]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const d=Object.keys(e),l=Object.getOwnPropertyDescriptors(e);for(let a=0,f=d.length;a<f;a++)o=d[a],!l[o].get&&(i=e[o],(s=ie(i,t))!==i&&(e[o]=s))}return e}function _e(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function re(e,t,n){if(e[t])return e[t];const[s,i]=se(n,{equals:!1,internal:!0});return s.$=i,e[t]=s}function Ut(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Q||t===Y||(delete n.value,delete n.writable,n.get=()=>e[Q][t]),n}function At(e){Qe()&&re(_e(e,Y),wt)()}function Wt(e){return At(e),Reflect.ownKeys(e)}const Ht={get(e,t,n){if(t===Ze)return e;if(t===Q)return n;if(t===He)return At(e),n;const s=_e(e,Y),i=s[t];let o=i?i():e[t];if(t===Y||t===z||t==="__proto__")return o;if(!i){const d=Object.getOwnPropertyDescriptor(e,t);Qe()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(d&&d.get)&&(o=re(s,t,o)())}return Pe(o)?bt(o):o},has(e,t){return t===Ze||t===Q||t===He||t===Y||t===z||t==="__proto__"?!0:(Qe()&&re(_e(e,z),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Wt,getOwnPropertyDescriptor:Ut};function Me(e,t,n,s=!1){if(!s&&e[t]===n)return;const i=e[t],o=e.length;n===void 0?(delete e[t],e[z]&&e[z][t]&&i!==void 0&&e[z][t].$()):(e[t]=n,e[z]&&e[z][t]&&i===void 0&&e[z][t].$());let d=_e(e,Y),l;if((l=re(d,t,i))&&l.$(()=>n),Array.isArray(e)&&e.length!==o){for(let a=e.length;a<o;a++)(l=d[a])&&l.$();(l=re(d,"length",o))&&l.$(e.length)}(l=d[wt])&&l.$()}function Ct(e,t){const n=Object.keys(t);for(let s=0;s<n.length;s+=1){const i=n[s];Me(e,i,t[i])}}function Qt(e,t){if(typeof t=="function"&&(t=t(e)),t=ie(t),Array.isArray(t)){if(e===t)return;let n=0,s=t.length;for(;n<s;n++){const i=t[n];e[n]!==i&&Me(e,n,i)}Me(e,"length",s)}else Ct(e,t)}function te(e,t,n=[]){let s,i=e;if(t.length>1){s=t.shift();const d=typeof s,l=Array.isArray(e);if(Array.isArray(s)){for(let a=0;a<s.length;a++)te(e,[s[a]].concat(t),n);return}else if(l&&d==="function"){for(let a=0;a<e.length;a++)s(e[a],a)&&te(e,[a].concat(t),n);return}else if(l&&d==="object"){const{from:a=0,to:f=e.length-1,by:u=1}=s;for(let r=a;r<=f;r+=u)te(e,[r].concat(t),n);return}else if(t.length>1){te(e[s],t,[s].concat(n));return}i=e[s],n=[s].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||s===void 0&&o==null||(o=ie(o),s===void 0||Pe(i)&&Pe(o)&&!Array.isArray(o)?Ct(i,o):Me(e,s,o))}function Xt(...[e,t]){const n=ie(e||{}),s=Array.isArray(n),i=bt(n);function o(...d){Tt(()=>{s&&d.length===1?Qt(n,d[0]):te(n,d)})}return[i,o]}let P={audioCtx:new AudioContext,gainNodes:[],oscs:[],lpFilter:void 0};const nt=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],jt=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],pe=nt,xt={C0:16.35,"C#0":17.32,D0:18.35,"D#0":19.45,E0:20.6,F0:21.83,"F#0":23.12,G0:24.5,"G#0":25.96,A0:27.5,"A#0":29.14,B0:30.87,C1:32.7,"C#1":34.65,D1:36.71,"D#1":38.89,E1:41.2,F1:43.65,"F#1":46.25,G1:49,"G#1":51.91,A1:55,"A#1":58.27,B1:61.74,C2:65.41,"C#2":69.3,D2:73.42,"D#2":77.78,E2:82.41,F2:87.31,"F#2":92.5,G2:98,"G#2":103.83,A2:110,"A#2":116.54,B2:123.47,C3:130.81,"C#3":138.59,D3:146.83,"D#3":155.56,E3:164.81,F3:174.61,"F#3":185,G3:196,"G#3":207.65,A3:220,"A#3":233.08,B3:246.94,C4:261.63,"C#4":277.18,D4:293.66,"D#4":311.13,E4:329.63,F4:349.23,"F#4":369.99,G4:392,"G#4":415.3,A4:440,"A#4":466.16,B4:493.88,C5:523.25,"C#5":554.37,D5:587.33,"D#5":622.25,E5:659.26,F5:698.46,"F#5":739.99,G5:783.99,"G#5":830.61,A5:880,"A#5":932.33,B5:987.77,C6:1046.5,"C#6":1108.73,D6:1174.66,"D#6":1244.51,E6:1318.51,F6:1396.91,"F#6":1479.98,G6:1567.98,"G#6":1661.22,A6:1760,"A#6":1864.66,B6:1975.53,C7:2093,"C#7":2217.46,D7:2349.32,"D#7":2489,E7:2637,F7:2793.83,"F#7":2959.96,G7:3135.96,"G#7":3322.44,A7:3520,"A#7":3729.31,B7:3951,C8:4186,"C#8":4434.92,D8:4698.63,"D#8":4978,E8:5274,F8:5587.65,"F#8":5919.91,G8:6271.93,"G#8":6644.88,A8:7040,"A#8":7458.62,B8:7902.13},Yt=Object.keys(xt),Zt=()=>({powerTypes:[{set:new Set([0,7]),name:"Power"}],majTypes:[{set:new Set([0,4]),name:"Maj"},{set:new Set([0,4,11]),name:"Maj7"},{set:new Set([0,4,11,2]),name:"Maj9"},{set:new Set([0,4,11,2,5]),name:"Maj11"},{set:new Set([0,4,11,2,5,9]),name:"Maj13"},{set:new Set([0,4,2]),name:"MajAdd9"},{set:new Set([0,4,5]),name:"MajAdd11"},{set:new Set([0,4,9]),name:"Maj6"},{set:new Set([0,4,2,5]),name:"MajAdd9Add11"},{set:new Set([0,4,2,9]),name:"Maj69"},{set:new Set([0,4,5,9]),name:"MajAdd11Add13"},{set:new Set([0,4,2,5,9]),name:"MajAdd9Add11Add13"},{set:new Set([0,4,11,2,9]),name:"Maj9Add13"},{set:new Set([0,4,11,9]),name:"Maj7Add13"}],minTypes:[{set:new Set([0,3]),name:"min"},{set:new Set([0,3,9]),name:"min6"},{set:new Set([0,3,10]),name:"min7"},{set:new Set([0,3,10,2]),name:"min9"},{set:new Set([0,3,10,2,5]),name:"min11"},{set:new Set([0,3,10,2,5,9]),name:"min13"},{set:new Set([0,3,2]),name:"minAdd9"},{set:new Set([0,3,5]),name:"minAdd11"},{set:new Set([0,3,2,5]),name:"minAdd9Add11"},{set:new Set([0,3,2,9]),name:"min6Add9"},{set:new Set([0,3,2,5,9]),name:"minAdd9Add11Add13"},{set:new Set([0,3,10,5]),name:"min7Add11"}],domTypes:[{set:new Set([0,4,10]),name:"(Dom)7"},{set:new Set([0,4,10,2]),name:"(Dom)9"},{set:new Set([0,4,10,2,5]),name:"(Dom)11"},{set:new Set([0,4,10,2,5,9]),name:"(Dom)13"},{set:new Set([0,4,10,1]),name:"(Dom)7b9"},{set:new Set([0,4,10,3]),name:"(Dom)7#9"},{set:new Set([0,4,10,6]),name:"(Dom)7b5"},{set:new Set([0,4,10,8]),name:"(Dom)7b13"},{set:new Set([0,4,10,2,6]),name:"(Dom)9b5"},{set:new Set([0,4,10,1,3,6,8]),name:"Alt"}],susTypes:[{set:new Set([0,5]),name:"sus4"},{set:new Set([0,2]),name:"sus2"},{set:new Set([0,2,5]),name:"sus2sus4"},{set:new Set([0,5,10]),name:"(Dom)7sus4"},{set:new Set([0,2,10]),name:"(Dom)7sus2"},{set:new Set([0,5,10,2]),name:"(Dom)9sus4"},{set:new Set([0,5,10,1]),name:"(Dom)7b9sus"},{set:new Set([0,10,2,5,9]),name:"sus13"},{set:new Set([0,10,1,5,9]),name:"sus13b9"},{set:new Set([0,5,1]),name:"sus4b9"}],augTypes:[{set:new Set([0,4,8]),name:"Aug"},{set:new Set([0,4,8,10]),name:"Aug7"},{set:new Set([0,4,8,11]),name:"AugMaj7"}],minMajTypes:[{set:new Set([0,3,11]),name:"minMaj"},{set:new Set([0,3,11,2]),name:"minMaj9"},{set:new Set([0,3,11,2,8]),name:"minMaj9b13"}],dimTypes:[{set:new Set([0,3,6]),name:"dim"},{set:new Set([0,3,6,10]),name:"halfDim"},{set:new Set([0,3,6,9]),name:"fullDim"}],otherTypes:[{set:new Set([0,4,6]),name:"Majb5"},{set:new Set([0,4,6,11]),name:"Maj7b5"},{set:new Set([0,4,6,11,2]),name:"Maj9b5"},{set:new Set([0,4,7,11,6]),name:"Maj7Add#11"},{set:new Set([0,4,7,11,2,6]),name:"Maj9Add#11"},{set:new Set([0,4,7,11,2,6,9]),name:"Maj13#11Set"},{set:new Set([0,4,7,6]),name:"MajAdd#11"}]}),Re=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],Ue=["A","Bb","B","C","Db","D","Eb","E","F","Gb","G","Ab"],Jt=()=>{P.lpFilter=P.audioCtx.createBiquadFilter(),P.lpFilter.type="lowpass",P.lpFilter.frequency.value=800,P.lpFilter.Q.value=5,P.lpFilter.connect(P.audioCtx.destination)},en=()=>{P.gainNodes.forEach(e=>{e.disconnect()}),P.gainNodes=[],P.oscs.forEach(e=>{e.disconnect()}),P.oscs=[]},We=(e,t,n)=>{Jt(),en();for(let i=0;i<e.length;i+=1){let o=P.audioCtx.createGain();P.gainNodes.push(o),o.gain.value=0,o.connect(P.lpFilter);let d=P.audioCtx.createOscillator();d.type="sawtooth",d.frequency.value=xt[e[i]],d.connect(o),d.start(),P.oscs.push(d)}const s=n?0:1;for(let i=0;i<e.length;i+=1)P.gainNodes[i].gain.value=s*t*.7/(e.length+1)};function lt(e,t){const n=t?0:1;for(let s=0;s<P.gainNodes.length;s+=1)P.gainNodes[s].gain.value=n*e*.7/(P.gainNodes.length+1)}function tn(e,t=!1){const n=Zt();let s;t?s=Ue:s=Re,e=Je(e).map(u=>t?sn(u.slice(0,u.length-1)):u.slice(0,u.length-1));const i=e[0];let o=[],d=new Set;for(let u=0;u<e.length;u+=1){let r=e[u];Re.includes(r)?d.add(Re.indexOf(r)):Ue.includes(r)&&d.add(Ue.indexOf(r))}let l=Array.from(d),a;for(let u=0;u<12;u+=1){a=new Set;for(let r=0;r<l.length;r+=1)a.add((l[r]+u)%12);a.delete(7);for(let r=0;r<n.powerTypes.length;r+=1)L(a,n.powerTypes[r].set)&&o.push(s[(12-u)%12]+` ${n.powerTypes[r].name}`);a=new Set;for(let r=0;r<l.length;r+=1)a.add((l[r]+u)%12);a.delete(7);for(let r=0;r<n.majTypes.length;r+=1)L(a,n.majTypes[r].set)&&o.push(s[(12-u)%12]+` ${n.majTypes[r].name}`);a=new Set;for(let r=0;r<l.length;r+=1)a.add((l[r]+u)%12);a.delete(7);for(let r=0;r<n.minTypes.length;r+=1)L(a,n.minTypes[r].set)&&o.push(s[(12-u)%12]+` ${n.minTypes[r].name}`);a=new Set;for(let r=0;r<l.length;r+=1)a.add((l[r]+u)%12);a.delete(7);for(let r=0;r<n.domTypes.length;r+=1)L(a,n.domTypes[r].set)&&o.push(s[(12-u)%12]+` ${n.domTypes[r].name}`);a=new Set;for(let r=0;r<l.length;r+=1)a.add((l[r]+u)%12);a.delete(7);for(let r=0;r<n.susTypes.length;r+=1)L(a,n.susTypes[r].set)&&o.push(s[(12-u)%12]+` ${n.susTypes[r].name}`);a=new Set;for(let r=0;r<l.length;r+=1)a.add((l[r]+u)%12);a.delete(7);for(let r=0;r<n.dimTypes.length;r+=1)L(a,n.dimTypes[r].set)&&o.push(s[(12-u)%12]+` ${n.dimTypes[r].name}`);a=new Set;for(let r=0;r<l.length;r+=1)a.add((l[r]+u)%12);a.delete(7);for(let r=0;r<n.minMajTypes.length;r+=1)L(a,n.minMajTypes[r].set)&&o.push(s[(12-u)%12]+` ${n.minMajTypes[r].name}`);a=new Set;for(let r=0;r<l.length;r+=1)a.add((l[r]+u)%12);a.delete(7);for(let r=0;r<n.augTypes.length;r+=1)L(a,n.augTypes[r].set)&&o.push(s[(12-u)%12]+` ${n.augTypes[r].name}`);a=new Set;for(let r=0;r<l.length;r+=1)a.add((l[r]+u)%12);a.delete(7);for(let r=0;r<n.otherTypes.length;r+=1)L(a,n.otherTypes[r].set)&&o.push(s[(12-u)%12]+` ${n.otherTypes[r].name}`)}let f;if(o.length===1)f=o[0],o=[];else if(i){for(let u=0;u<o.length;u+=1)if(i===o[u].slice(0,i.length)){f=o[u],o=o.slice(0,u).concat(o.slice(u+1,o.length));break}}return{possibleChords:o,mostLikely:f}}function L(e,t){return e.size===t.size&&[...e].every(n=>t.has(n))}function nn(e){return jt[nt.indexOf(e.slice(0,e.length-1))]+e[e.length-1]}function sn(e){return jt[nt.indexOf(e)]}function Je(e){if(e.length<=1)return[...e];let t=Math.floor(e.length/2),n=e.slice(0,t),s=e.slice(t,e.length);return rn(Je(n),Je(s),on)}function on(e,t){let n=parseInt(e.slice(e.length-1,e.length)),s=parseInt(t.slice(t.length-1,t.length));return n<s?1:n>s?-1:pe.indexOf(e.slice(0,e.length-1))<pe.indexOf(t.slice(0,t.length-1))?1:pe.indexOf(e.slice(0,e.length-1))>pe.indexOf(t.slice(0,t.length-1))?-1:0}function rn(e,t,n){let s=[];for(;e.length>0&&t.length>0;)n(e[0],t[0])===1?s.push(e.shift()):s.push(t.shift());return s.concat(e).concat(t)}const Pt=kt();function ln(e){const[t,n]=Xt({notesPressed:[],notesPressedFlats:[],chordInfo:{possibleChords:[]},sharps:!0,volume:1,muted:!1,midiMode:!1,dispSize:0,layoutMode:"landscape"}),s=c=>{n({...t,notesPressed:[...t.notesPressed,c],notesPressedFlats:[...t.notesPressedFlats,nn(c)]}),We(t.notesPressed,t.volume,t.muted)},i=c=>{if(t.notesPressed.includes(c)){const m=t.notesPressed.indexOf(c);n({...t,notesPressed:[...t.notesPressed.slice(0,m),...t.notesPressed.slice(m+1)],notesPressedFlats:[...t.notesPressedFlats.slice(0,m),...t.notesPressedFlats.slice(m+1)]})}We(t.notesPressed,t.volume,t.muted)},o=()=>{n({...t,notesPressed:[],notesPressedFlats:[]}),We(t.notesPressed,t.volume,t.muted)},d=c=>{n({...t,volume:c}),lt(t.volume,t.muted)},l=c=>{n({...t,muted:c}),lt(t.volume,t.muted)},a=c=>{n({...t,sharps:c})},f=c=>{n({...t,midiMode:c})},u=()=>{var $,O;const c=((($=window.visualViewport)==null?void 0:$.width)??window.innerWidth)/100,m=(((O=window.visualViewport)==null?void 0:O.height)??window.innerHeight)/100;document.documentElement.style.setProperty("--vh",`${m}px`),document.documentElement.style.setProperty("--vw",`${c}px`);const g=c>=m?"landscape":"portrait",S=Math.sqrt(m**2*Math.min(3,c/m));n({...t,dispSize:S*3,layoutMode:g})};mt(()=>{u(),window.addEventListener("resize",u),et(()=>window.removeEventListener("resize",u))});const r=[t,{addNotePressed:s,removeNotePressed:i,clearAllNotes:o,adjustVolume:d,setMuted:l,setSharps:a,setMidiMode:f}];return p(Pt.Provider,{value:r,get children(){return e.children}})}function de(){return Ft(Pt)}const dn="_App_1bv9v_3",an="_whiteKey_1bv9v_12",un="_whiteKeyPressed_1bv9v_27",cn="_blackKey_1bv9v_42",fn="_blackKeyPressed_1bv9v_57",mn="_fakeKey_1bv9v_72",hn="_blackKeyContainer_1bv9v_82",Sn="_whiteKeyContainer_1bv9v_92",vn="_octaveContainer_1bv9v_102",yn="_pianoContainer_1bv9v_108",gn="_chordInfo_1bv9v_117",pn="_notesContainer_1bv9v_130",wn="_controlsContainer_1bv9v_134",bn="_controlsText_1bv9v_144",An="_controlsButton_1bv9v_150",Cn="_controlsCheckbox_1bv9v_161",jn="_controlsSlider_1bv9v_168",xn="_mostLikely_1bv9v_175",Pn="_possibleChords_1bv9v_180",_n="_headerSection_1bv9v_185",Mn="_titleContainer_1bv9v_193",$n="_image_1bv9v_201",Dn="_doughLabLink_1bv9v_207",y={App:dn,whiteKey:an,whiteKeyPressed:un,blackKey:cn,blackKeyPressed:fn,fakeKey:mn,blackKeyContainer:hn,whiteKeyContainer:Sn,octaveContainer:vn,pianoContainer:yn,chordInfo:gn,notesContainer:pn,controlsContainer:wn,controlsText:bn,controlsButton:An,controlsCheckbox:Cn,controlsSlider:jn,mostLikely:xn,possibleChords:Pn,headerSection:_n,titleContainer:Mn,image:$n,doughLabLink:Dn};var dt=E("<div>");const H=e=>{const[t,{addNotePressed:n,removeNotePressed:s}]=de(),i=I(()=>t.notesPressed.includes(e.note));return p(ne,{get when(){return!i()},get fallback(){return(()=>{var o=dt();return K(o,"click",()=>{s(e.note)}),_(()=>v(o,y.whiteKeyPressed)),o})()},get children(){var o=dt();return K(o,"click",()=>{n(e.note)}),_(()=>v(o,y.whiteKey)),o}})};var at=E("<div>");const ee=e=>{const[t,{addNotePressed:n,removeNotePressed:s}]=de(),i=I(()=>t.notesPressed.includes(e.note));return p(ne,{get when(){return!i()},get fallback(){return(()=>{var o=at();return K(o,"click",()=>{s(e.note)}),_(()=>v(o,y.blackKeyPressed)),o})()},get children(){var o=at();return K(o,"click",()=>{n(e.note)}),_(()=>v(o,y.blackKey)),o}})};var Tn=E("<div><div><div id=E#></div><div id=B#></div></div><div>");const kn=e=>(()=>{var t=Tn(),n=t.firstChild,s=n.firstChild,i=s.nextSibling,o=n.nextSibling;return w(n,p(ee,{get note(){return`C#${e.octaveIdx}`}}),s),w(n,p(ee,{get note(){return`D#${e.octaveIdx}`}}),s),w(n,p(ee,{get note(){return`F#${e.octaveIdx}`}}),i),w(n,p(ee,{get note(){return`G#${e.octaveIdx}`}}),i),w(n,p(ee,{get note(){return`A#${e.octaveIdx}`}}),i),w(o,p(H,{get note(){return`C${e.octaveIdx}`}}),null),w(o,p(H,{get note(){return`D${e.octaveIdx}`}}),null),w(o,p(H,{get note(){return`E${e.octaveIdx}`}}),null),w(o,p(H,{get note(){return`F${e.octaveIdx}`}}),null),w(o,p(H,{get note(){return`G${e.octaveIdx}`}}),null),w(o,p(H,{get note(){return`A${e.octaveIdx}`}}),null),w(o,p(H,{get note(){return`B${e.octaveIdx}`}}),null),_(d=>{var l=y.octaveContainer,a=y.blackKeyContainer,f=y.fakeKey,u=y.fakeKey,r=y.whiteKeyContainer;return l!==d.e&&v(t,d.e=l),a!==d.t&&v(n,d.t=a),f!==d.a&&v(s,d.a=f),u!==d.o&&v(i,d.o=u),r!==d.i&&v(o,d.i=r),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),t})();var Fn=E("<div>");const In=e=>{const[t,n]=se(window.innerWidth),s=()=>{n(window.innerWidth)};mt(()=>{window.addEventListener("resize",s),et(()=>window.removeEventListener("resize",s))});const i=()=>t()>1300?[2,3,4,5]:t()>900&&t()<=1300?[3,4,5]:t()<=900&&t()>600?[4,5]:[4];return(()=>{var o=Fn();return w(o,p(pt,{get each(){return i()},children:d=>p(kn,{octaveIdx:d})})),_(()=>v(o,y.pianoContainer)),o})()};var En=E("<div>Notes pressed: "),On=E("<div>Most Likely: "),ut=E("<div>"),Nn=E("<div><div></div><div>");const Ln=e=>{const[t,{addNotePressed:n,removeNotePressed:s}]=de(),i=I(()=>tn(t.notesPressed,!t.sharps)),o=I(()=>(t.sharps?t.notesPressed:t.notesPressedFlats).map(r=>r+",").join(" ").slice(0,-1)),d=()=>i().mostLikely,l=()=>i().possibleChords,a=()=>l().length>0?d()?"Other possible chords:":"Possible chords:":"";return(()=>{var f=Nn(),u=f.firstChild,r=u.nextSibling;return w(u,p(ne,{get when(){return o().length>0},get children(){var c=En();return c.firstChild,w(c,o,null),c}})),w(r,p(ne,{get when(){return d()},get children(){var c=On();return c.firstChild,w(c,d,null),_(m=>{var g=y.mostLikely,S=`${t.dispSize*1.2}px`;return g!==m.e&&v(c,m.e=g),S!==m.t&&((m.t=S)!=null?c.style.setProperty("font-size",S):c.style.removeProperty("font-size")),m},{e:void 0,t:void 0}),c}}),null),w(r,p(ne,{get when(){return l().length>0},get children(){var c=ut();return w(c,a,null),w(c,p(pt,{get each(){return l()},children:(m,g)=>(()=>{var S=ut();return w(S,m),S})()}),null),_(m=>{var g=y.possibleChords,S=`${t.dispSize}px`;return g!==m.e&&v(c,m.e=g),S!==m.t&&((m.t=S)!=null?c.style.setProperty("font-size",S):c.style.removeProperty("font-size")),m},{e:void 0,t:void 0}),c}}),null),_(c=>{var m=`${t.dispSize}px`,g=y.chordInfo,S=y.notesContainer,$=y.chordContainer;return m!==c.e&&((c.e=m)!=null?f.style.setProperty("font-size",m):f.style.removeProperty("font-size")),g!==c.t&&v(f,c.t=g),S!==c.a&&v(u,c.a=S),$!==c.o&&v(r,c.o=$),c},{e:void 0,t:void 0,a:void 0,o:void 0}),f})()};var zn=E("<div><div>Volume <input type=range value=100 min=0 max=100></div><div>Muted<input type=checkbox></div><div>Sharps <input type=checkbox></div><div>MIDI <input type=checkbox></div><div>Clear<button>X");const Kn=e=>{const[t,{clearAllNotes:n,adjustVolume:s,setMuted:i,setSharps:o,addNotePressed:d,removeNotePressed:l,setMidiMode:a}]=de(),[f,u]=se(!1),[r,c]=se(!0);let m,g;const S=I(()=>t.layoutMode==="portrait"?t.dispSize:t.dispSize**1.2/3),$=()=>{const M=window.navigator;let j=null,T=!1;function k(C){console.log("MIDI ready!"),j=C,ae(j),V(j)}function N(C){console.error(`Failed to get MIDI access - ${C}`)}function ae(C){for(const F of C.inputs){const b=F[1];console.log(`Input port [type:'${b.type}'] id:'${b.id}' manufacturer:'${b.manufacturer}' name:'${b.name}' version:'${b.version}'`)}for(const F of C.outputs){const b=F[1];console.log(`Output port [type:'${b.type}'] id:'${b.id}' manufacturer:'${b.manufacturer}' name:'${b.name}' version:'${b.version}'`)}}function U(C){if(t.midiMode){`${C.timeStamp}${C.data.length}`;let F="";for(const b of C.data)F+=`0x${b.toString(16)} `;if(F!=="0xf8 "){const b=Yt[parseInt(C.data.slice(1))],q=parseInt(C.data[2]);q>0&&C.data[0]===144?d(b):(C.data[0]===128||q===0)&&l(b)}}}function V(C){T||C.inputs.forEach(F=>{F.onmidimessage=U}),T=!0}return{runMidiStuff:()=>{M.requestMIDIAccess().then(k,N)},cancelMidiStuff:()=>{}}},{runMidiStuff:O}=$();return(()=>{var M=zn(),j=M.firstChild,T=j.firstChild,k=T.nextSibling,N=j.nextSibling,ae=N.firstChild,U=ae.nextSibling,V=N.nextSibling,De=V.firstChild,W=De.nextSibling,C=V.nextSibling,F=C.firstChild,b=F.nextSibling,q=C.nextSibling,st=q.firstChild,J=st.nextSibling;K(k,"input",()=>{m&&s(parseFloat(m.value)*.01)});var Te=m;typeof Te=="function"?it(Te,k):m=k,K(U,"change",()=>{u(!f()),i(f())}),K(W,"change",()=>{c(!r()),o(r())}),K(b,"change",()=>{g&&(g.checked?(a(!0),n(),O()):(a(!1),n()))});var ke=g;return typeof ke=="function"?it(ke,b):g=b,K(J,"click",()=>n()),_(h=>{var Fe=y.controlsContainer,Ie=y.controlsText,ue=`${S()}px`,Ee=y.controlsSlider,Oe=y.controlsText,ce=`${S()}px`,fe=`scale(${t.dispSize/20})`,Ne=y.controlsCheckbox,Le=y.controlsText,me=`${S()}px`,he=`scale(${t.dispSize/20})`,ze=y.controlsCheckbox,Ke=y.controlsText,Se=`${S()}px`,ve=`scale(${t.dispSize/20})`,Be=y.controlsCheckbox,Ge=y.controlsText,ye=`${S()}px`,Ve=y.controlsButton,ge=`${t.dispSize/2}px`;return Fe!==h.e&&v(M,h.e=Fe),Ie!==h.t&&v(j,h.t=Ie),ue!==h.a&&((h.a=ue)!=null?j.style.setProperty("font-size",ue):j.style.removeProperty("font-size")),Ee!==h.o&&v(k,h.o=Ee),Oe!==h.i&&v(N,h.i=Oe),ce!==h.n&&((h.n=ce)!=null?N.style.setProperty("font-size",ce):N.style.removeProperty("font-size")),fe!==h.s&&((h.s=fe)!=null?U.style.setProperty("transform",fe):U.style.removeProperty("transform")),Ne!==h.h&&v(U,h.h=Ne),Le!==h.r&&v(V,h.r=Le),me!==h.d&&((h.d=me)!=null?V.style.setProperty("font-size",me):V.style.removeProperty("font-size")),he!==h.l&&((h.l=he)!=null?W.style.setProperty("transform",he):W.style.removeProperty("transform")),ze!==h.u&&v(W,h.u=ze),Ke!==h.c&&v(C,h.c=Ke),Se!==h.w&&((h.w=Se)!=null?C.style.setProperty("font-size",Se):C.style.removeProperty("font-size")),ve!==h.m&&((h.m=ve)!=null?b.style.setProperty("transform",ve):b.style.removeProperty("transform")),Be!==h.f&&v(b,h.f=Be),Ge!==h.y&&v(q,h.y=Ge),ye!==h.g&&((h.g=ye)!=null?q.style.setProperty("font-size",ye):q.style.removeProperty("font-size")),Ve!==h.p&&v(J,h.p=Ve),ge!==h.b&&((h.b=ge)!=null?J.style.setProperty("font-size",ge):J.style.removeProperty("font-size")),h},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0}),_(()=>W.checked=r()),_(()=>b.checked=t.midiMode),M})()},Bn="/ChordFinder2/assets/ChordFinder-AnBMwuZA.png";var Gn=E("<div><img alt><a href=https://evanczako.github.io/DoughLab2/ target=_blank>by Evan Czako (more here)");const Vn=e=>{const[t,{clearAllNotes:n,adjustVolume:s,setMuted:i,setSharps:o,addNotePressed:d,removeNotePressed:l,setMidiMode:a}]=de();return(()=>{var f=Gn(),u=f.firstChild,r=u.nextSibling;return Rt(u,"src",Bn),_(c=>{var m=y.titleContainer,g=y.image,S=`${t.dispSize*.6}px`,$=y.doughLabLink;return m!==c.e&&v(f,c.e=m),g!==c.t&&v(u,c.t=g),S!==c.a&&((c.a=S)!=null?r.style.setProperty("font-size",S):r.style.removeProperty("font-size")),$!==c.o&&v(r,c.o=$),c},{e:void 0,t:void 0,a:void 0,o:void 0}),f})()};var qn=E("<div><div>");const Rn=()=>p(ln,{get children(){var e=qn(),t=e.firstChild;return w(t,p(Vn,{}),null),w(t,p(Kn,{}),null),w(e,p(In,{}),null),w(e,p(Ln,{}),null),_(n=>{var s=y.App,i=y.headerSection;return s!==n.e&&v(e,n.e=s),i!==n.t&&v(t,n.t=i),n},{e:void 0,t:void 0}),e}}),Un=document.getElementById("root");qt(()=>p(Rn,{}),Un);
