(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const wt=!1,At=(e,t)=>e===t,W=Symbol("solid-proxy"),qe=Symbol("solid-track"),Se={equals:At};let st=dt;const z=1,he=2,ot={owned:null,cleanups:null,context:null,owner:null};var p=null;let Ke=null,vt=null,v=null,P=null,L=null,Ce=0;function me(e,t){const n=v,s=p,i=e.length===0,o=t===void 0?s:t,d=i?ot:{owned:null,cleanups:null,context:o?o.context:null,owner:o},r=i?e:()=>e(()=>B(()=>se(d)));p=d,v=null;try{return J(r,!0)}finally{v=n,p=s}}function ne(e,t){t=t?Object.assign({},Se,t):Se;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=i=>(typeof i=="function"&&(i=i(n.value)),rt(n,i));return[lt.bind(n),s]}function $(e,t,n){const s=Qe(e,t,!1,z);le(s)}function bt(e,t,n){st=Pt;const s=Qe(e,t,!1,z);s.user=!0,L?L.push(s):le(s)}function I(e,t,n){n=n?Object.assign({},Se,n):Se;const s=Qe(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,le(s),lt.bind(s)}function Ct(e){return J(e,!1)}function B(e){if(v===null)return e();const t=v;v=null;try{return e()}finally{v=t}}function it(e){bt(()=>B(e))}function He(e){return p===null||(p.cleanups===null?p.cleanups=[e]:p.cleanups.push(e)),e}function Ve(){return v}function jt(e,t){const n=Symbol("context");return{id:n,Provider:Tt(n),defaultValue:e}}function xt(e){let t;return p&&p.context&&(t=p.context[e.id])!==void 0?t:e.defaultValue}function $t(e){const t=I(e),n=I(()=>Re(t()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}function lt(){if(this.sources&&this.state)if(this.state===z)le(this);else{const e=P;P=null,J(()=>ye(this),!1),P=e}if(v){const e=this.observers?this.observers.length:0;v.sources?(v.sources.push(this),v.sourceSlots.push(e)):(v.sources=[this],v.sourceSlots=[e]),this.observers?(this.observers.push(v),this.observerSlots.push(v.sources.length-1)):(this.observers=[v],this.observerSlots=[v.sources.length-1])}return this.value}function rt(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&J(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],d=Ke&&Ke.running;d&&Ke.disposed.has(o),(d?!o.tState:!o.state)&&(o.pure?P.push(o):L.push(o),o.observers&&at(o)),d||(o.state=z)}if(P.length>1e6)throw P=[],new Error},!1)),t}function le(e){if(!e.fn)return;se(e);const t=Ce;_t(e,e.value,t)}function _t(e,t,n){let s;const i=p,o=v;v=p=e;try{s=e.fn(t)}catch(d){return e.pure&&(e.state=z,e.owned&&e.owned.forEach(se),e.owned=null),e.updatedAt=n+1,ut(d)}finally{v=o,p=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?rt(e,s):e.value=s,e.updatedAt=n)}function Qe(e,t,n,s=z,i){const o={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:p,context:p?p.context:null,pure:n};return p===null||p!==ot&&(p.owned?p.owned.push(o):p.owned=[o]),o}function ge(e){if(e.state===0)return;if(e.state===he)return ye(e);if(e.suspense&&B(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ce);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===z)le(e);else if(e.state===he){const s=P;P=null,J(()=>ye(e,t[0]),!1),P=s}}function J(e,t){if(P)return e();let n=!1;t||(P=[]),L?n=!0:L=[],Ce++;try{const s=e();return Mt(n),s}catch(s){n||(L=null),P=null,ut(s)}}function Mt(e){if(P&&(dt(P),P=null),e)return;const t=L;L=null,t.length&&J(()=>st(t),!1)}function dt(e){for(let t=0;t<e.length;t++)ge(e[t])}function Pt(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:ge(s)}for(t=0;t<n;t++)ge(e[t])}function ye(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const i=s.state;i===z?s!==t&&(!s.updatedAt||s.updatedAt<Ce)&&ge(s):i===he&&ye(s,t)}}}function at(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=he,n.pure?P.push(n):L.push(n),n.observers&&at(n))}}function se(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),d=n.observerSlots.pop();s<i.length&&(o.sourceSlots[d]=s,i[s]=o,n.observerSlots[s]=d)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)se(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)se(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Dt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ut(e,t=p){throw Dt(e)}function Re(e){if(typeof e=="function"&&!e.length)return Re(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=Re(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function Tt(e,t){return function(s){let i;return $(()=>i=B(()=>(p.context={...p.context,[e]:s.value},$t(()=>s.children))),void 0),i}}const Ft=Symbol("fallback");function Ye(e){for(let t=0;t<e.length;t++)e[t]()}function kt(e,t,n={}){let s=[],i=[],o=[],d=0,r=t.length>1?[]:null;return He(()=>Ye(o)),()=>{let a=e()||[],c=a.length,u,l;return a[qe],B(()=>{let w,_,k,q,D,C,M,x,T;if(c===0)d!==0&&(Ye(o),o=[],s=[],i=[],d=0,r&&(r=[])),n.fallback&&(s=[Ft],i[0]=me(H=>(o[0]=H,n.fallback())),d=1);else if(d===0){for(i=new Array(c),l=0;l<c;l++)s[l]=a[l],i[l]=me(m);d=c}else{for(k=new Array(c),q=new Array(c),r&&(D=new Array(c)),C=0,M=Math.min(d,c);C<M&&s[C]===a[C];C++);for(M=d-1,x=c-1;M>=C&&x>=C&&s[M]===a[x];M--,x--)k[x]=i[M],q[x]=o[M],r&&(D[x]=r[M]);for(w=new Map,_=new Array(x+1),l=x;l>=C;l--)T=a[l],u=w.get(T),_[l]=u===void 0?-1:u,w.set(T,l);for(u=C;u<=M;u++)T=s[u],l=w.get(T),l!==void 0&&l!==-1?(k[l]=i[u],q[l]=o[u],r&&(D[l]=r[u]),l=_[l],w.set(T,l)):o[u]();for(l=C;l<c;l++)l in k?(i[l]=k[l],o[l]=q[l],r&&(r[l]=D[l],r[l](l))):i[l]=me(m);i=i.slice(0,d=c),s=a.slice(0)}return i});function m(w){if(o[l]=w,r){const[_,k]=ne(l);return r[l]=k,t(a[l],_)}return t(a[l])}}}function S(e,t){return B(()=>e(t||{}))}const It=e=>`Stale read from <${e}>.`;function ct(e){const t="fallback"in e&&{fallback:()=>e.fallback};return I(kt(()=>e.each,e.children,t||void 0))}function te(e){const t=e.keyed,n=I(()=>e.when,void 0,void 0),s=t?n:I(n,void 0,{equals:(i,o)=>!i==!o});return I(()=>{const i=s();if(i){const o=e.children;return typeof o=="function"&&o.length>0?B(()=>o(t?i:()=>{if(!B(s))throw It("Show");return n()})):o}return e.fallback},void 0,void 0)}function Et(e,t,n){let s=n.length,i=t.length,o=s,d=0,r=0,a=t[i-1].nextSibling,c=null;for(;d<i||r<o;){if(t[d]===n[r]){d++,r++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===d){const u=o<s?r?n[r-1].nextSibling:n[o-r]:a;for(;r<o;)e.insertBefore(n[r++],u)}else if(o===r)for(;d<i;)(!c||!c.has(t[d]))&&t[d].remove(),d++;else if(t[d]===n[o-1]&&n[r]===t[i-1]){const u=t[--i].nextSibling;e.insertBefore(n[r++],t[d++].nextSibling),e.insertBefore(n[--o],u),t[i]=n[o]}else{if(!c){c=new Map;let l=r;for(;l<o;)c.set(n[l],l++)}const u=c.get(t[d]);if(u!=null)if(r<u&&u<o){let l=d,m=1,w;for(;++l<i&&l<o&&!((w=c.get(t[l]))==null||w!==u+m);)m++;if(m>u-r){const _=t[d];for(;r<u;)e.insertBefore(n[r++],_)}else e.replaceChild(n[r++],t[d++])}else d++;else t[d++].remove()}}}function Ot(e,t,n,s={}){let i;return me(o=>{i=o,t===document?e():h(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{i(),t.textContent=""}}function G(e,t,n,s){let i;const o=()=>{const r=document.createElement("template");return r.innerHTML=e,r.content.firstChild},d=()=>(i||(i=o())).cloneNode(!0);return d.cloneNode=d,d}function g(e,t){t==null?e.removeAttribute("class"):e.className=t}function K(e,t,n,s){if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n,typeof n!="function"&&n)}function Je(e,t,n){return B(()=>e(t,n))}function h(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return pe(e,t,s,n);$(i=>pe(e,t(),i,n),s)}function pe(e,t,n,s,i){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,d=s!==void 0;if(e=d&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(d){let r=n[0];r&&r.nodeType===3?r.data!==t&&(r.data=t):r=document.createTextNode(t),n=X(e,n,s,r)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=X(e,n,s);else{if(o==="function")return $(()=>{let r=t();for(;typeof r=="function";)r=r();n=pe(e,r,n,s)}),()=>n;if(Array.isArray(t)){const r=[],a=n&&Array.isArray(n);if(Ue(r,t,n,i))return $(()=>n=pe(e,r,n,s,!0)),()=>n;if(r.length===0){if(n=X(e,n,s),d)return n}else a?n.length===0?Ze(e,r,s):Et(e,n,r):(n&&X(e),Ze(e,r));n=r}else if(t.nodeType){if(Array.isArray(n)){if(d)return n=X(e,n,s,t);X(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Ue(e,t,n,s){let i=!1;for(let o=0,d=t.length;o<d;o++){let r=t[o],a=n&&n[e.length],c;if(!(r==null||r===!0||r===!1))if((c=typeof r)=="object"&&r.nodeType)e.push(r);else if(Array.isArray(r))i=Ue(e,r,a)||i;else if(c==="function")if(s){for(;typeof r=="function";)r=r();i=Ue(e,Array.isArray(r)?r:[r],Array.isArray(a)?a:[a])||i}else e.push(r),i=!0;else{const u=String(r);a&&a.nodeType===3&&a.data===u?e.push(a):e.push(document.createTextNode(u))}}return i}function Ze(e,t,n=null){for(let s=0,i=t.length;s<i;s++)e.insertBefore(t[s],n)}function X(e,t,n,s){if(n===void 0)return e.textContent="";const i=s||document.createTextNode("");if(t.length){let o=!1;for(let d=t.length-1;d>=0;d--){const r=t[d];if(i!==r){const a=r.parentNode===e;!o&&!d?a?e.replaceChild(i,r):e.insertBefore(i,n):a&&r.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}const We=Symbol("store-raw"),Y=Symbol("store-node"),N=Symbol("store-has"),ft=Symbol("store-self");function mt(e){let t=e[W];if(!t&&(Object.defineProperty(e,W,{value:t=new Proxy(e,Lt)}),!Array.isArray(e))){const n=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let i=0,o=n.length;i<o;i++){const d=n[i];s[d].get&&Object.defineProperty(e,d,{enumerable:s[d].enumerable,get:s[d].get.bind(t)})}}return t}function we(e){let t;return e!=null&&typeof e=="object"&&(e[W]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function oe(e,t=new Set){let n,s,i,o;if(n=e!=null&&e[We])return n;if(!we(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let d=0,r=e.length;d<r;d++)i=e[d],(s=oe(i,t))!==i&&(e[d]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const d=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let a=0,c=d.length;a<c;a++)o=d[a],!r[o].get&&(i=e[o],(s=oe(i,t))!==i&&(e[o]=s))}return e}function Ae(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function ie(e,t,n){if(e[t])return e[t];const[s,i]=ne(n,{equals:!1,internal:!0});return s.$=i,e[t]=s}function Nt(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===W||t===Y||(delete n.value,delete n.writable,n.get=()=>e[W][t]),n}function St(e){Ve()&&ie(Ae(e,Y),ft)()}function Kt(e){return St(e),Reflect.ownKeys(e)}const Lt={get(e,t,n){if(t===We)return e;if(t===W)return n;if(t===qe)return St(e),n;const s=Ae(e,Y),i=s[t];let o=i?i():e[t];if(t===Y||t===N||t==="__proto__")return o;if(!i){const d=Object.getOwnPropertyDescriptor(e,t);Ve()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(d&&d.get)&&(o=ie(s,t,o)())}return we(o)?mt(o):o},has(e,t){return t===We||t===W||t===qe||t===Y||t===N||t==="__proto__"?!0:(Ve()&&ie(Ae(e,N),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Kt,getOwnPropertyDescriptor:Nt};function ve(e,t,n,s=!1){if(!s&&e[t]===n)return;const i=e[t],o=e.length;n===void 0?(delete e[t],e[N]&&e[N][t]&&i!==void 0&&e[N][t].$()):(e[t]=n,e[N]&&e[N][t]&&i===void 0&&e[N][t].$());let d=Ae(e,Y),r;if((r=ie(d,t,i))&&r.$(()=>n),Array.isArray(e)&&e.length!==o){for(let a=e.length;a<o;a++)(r=d[a])&&r.$();(r=ie(d,"length",o))&&r.$(e.length)}(r=d[ft])&&r.$()}function ht(e,t){const n=Object.keys(t);for(let s=0;s<n.length;s+=1){const i=n[s];ve(e,i,t[i])}}function Bt(e,t){if(typeof t=="function"&&(t=t(e)),t=oe(t),Array.isArray(t)){if(e===t)return;let n=0,s=t.length;for(;n<s;n++){const i=t[n];e[n]!==i&&ve(e,n,i)}ve(e,"length",s)}else ht(e,t)}function ee(e,t,n=[]){let s,i=e;if(t.length>1){s=t.shift();const d=typeof s,r=Array.isArray(e);if(Array.isArray(s)){for(let a=0;a<s.length;a++)ee(e,[s[a]].concat(t),n);return}else if(r&&d==="function"){for(let a=0;a<e.length;a++)s(e[a],a)&&ee(e,[a].concat(t),n);return}else if(r&&d==="object"){const{from:a=0,to:c=e.length-1,by:u=1}=s;for(let l=a;l<=c;l+=u)ee(e,[l].concat(t),n);return}else if(t.length>1){ee(e[s],t,[s].concat(n));return}i=e[s],n=[s].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||s===void 0&&o==null||(o=oe(o),s===void 0||we(i)&&we(o)&&!Array.isArray(o)?ht(i,o):ve(e,s,o))}function Gt(...[e,t]){const n=oe(e||{}),s=Array.isArray(n),i=mt(n);function o(...d){Ct(()=>{s&&d.length===1?Bt(n,d[0]):ee(n,d)})}return[i,o]}let b={audioCtx:new AudioContext,gainNodes:[],oscs:[],lpFilter:void 0};const Xe=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],gt=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],fe=Xe,yt={C0:16.35,"C#0":17.32,D0:18.35,"D#0":19.45,E0:20.6,F0:21.83,"F#0":23.12,G0:24.5,"G#0":25.96,A0:27.5,"A#0":29.14,B0:30.87,C1:32.7,"C#1":34.65,D1:36.71,"D#1":38.89,E1:41.2,F1:43.65,"F#1":46.25,G1:49,"G#1":51.91,A1:55,"A#1":58.27,B1:61.74,C2:65.41,"C#2":69.3,D2:73.42,"D#2":77.78,E2:82.41,F2:87.31,"F#2":92.5,G2:98,"G#2":103.83,A2:110,"A#2":116.54,B2:123.47,C3:130.81,"C#3":138.59,D3:146.83,"D#3":155.56,E3:164.81,F3:174.61,"F#3":185,G3:196,"G#3":207.65,A3:220,"A#3":233.08,B3:246.94,C4:261.63,"C#4":277.18,D4:293.66,"D#4":311.13,E4:329.63,F4:349.23,"F#4":369.99,G4:392,"G#4":415.3,A4:440,"A#4":466.16,B4:493.88,C5:523.25,"C#5":554.37,D5:587.33,"D#5":622.25,E5:659.26,F5:698.46,"F#5":739.99,G5:783.99,"G#5":830.61,A5:880,"A#5":932.33,B5:987.77,C6:1046.5,"C#6":1108.73,D6:1174.66,"D#6":1244.51,E6:1318.51,F6:1396.91,"F#6":1479.98,G6:1567.98,"G#6":1661.22,A6:1760,"A#6":1864.66,B6:1975.53,C7:2093,"C#7":2217.46,D7:2349.32,"D#7":2489,E7:2637,F7:2793.83,"F#7":2959.96,G7:3135.96,"G#7":3322.44,A7:3520,"A#7":3729.31,B7:3951,C8:4186,"C#8":4434.92,D8:4698.63,"D#8":4978,E8:5274,F8:5587.65,"F#8":5919.91,G8:6271.93,"G#8":6644.88,A8:7040,"A#8":7458.62,B8:7902.13},zt=Object.keys(yt),qt=()=>({powerTypes:[{set:new Set([0,7]),name:"Power"}],majTypes:[{set:new Set([0,4]),name:"Maj"},{set:new Set([0,4,11]),name:"Maj7"},{set:new Set([0,4,11,2]),name:"Maj9"},{set:new Set([0,4,11,2,5]),name:"Maj11"},{set:new Set([0,4,11,2,5,9]),name:"Maj13"},{set:new Set([0,4,2]),name:"MajAdd9"},{set:new Set([0,4,5]),name:"MajAdd11"},{set:new Set([0,4,9]),name:"Maj6"},{set:new Set([0,4,2,5]),name:"MajAdd9Add11"},{set:new Set([0,4,2,9]),name:"Maj69"},{set:new Set([0,4,5,9]),name:"MajAdd11Add13"},{set:new Set([0,4,2,5,9]),name:"MajAdd9Add11Add13"},{set:new Set([0,4,11,2,9]),name:"Maj9Add13"},{set:new Set([0,4,11,9]),name:"Maj7Add13"}],minTypes:[{set:new Set([0,3]),name:"min"},{set:new Set([0,3,9]),name:"min6"},{set:new Set([0,3,10]),name:"min7"},{set:new Set([0,3,10,2]),name:"min9"},{set:new Set([0,3,10,2,5]),name:"min11"},{set:new Set([0,3,10,2,5,9]),name:"min13"},{set:new Set([0,3,2]),name:"minAdd9"},{set:new Set([0,3,5]),name:"minAdd11"},{set:new Set([0,3,2,5]),name:"minAdd9Add11"},{set:new Set([0,3,2,9]),name:"min6Add9"},{set:new Set([0,3,2,5,9]),name:"minAdd9Add11Add13"},{set:new Set([0,3,10,5]),name:"min7Add11"}],domTypes:[{set:new Set([0,4,10]),name:"(Dom)7"},{set:new Set([0,4,10,2]),name:"(Dom)9"},{set:new Set([0,4,10,2,5]),name:"(Dom)11"},{set:new Set([0,4,10,2,5,9]),name:"(Dom)13"},{set:new Set([0,4,10,1]),name:"(Dom)7b9"},{set:new Set([0,4,10,3]),name:"(Dom)7#9"},{set:new Set([0,4,10,6]),name:"(Dom)7b5"},{set:new Set([0,4,10,8]),name:"(Dom)7b13"},{set:new Set([0,4,10,2,6]),name:"(Dom)9b5"},{set:new Set([0,4,10,1,3,6,8]),name:"Alt"}],susTypes:[{set:new Set([0,5]),name:"sus4"},{set:new Set([0,2]),name:"sus2"},{set:new Set([0,2,5]),name:"sus2sus4"},{set:new Set([0,5,10]),name:"(Dom)7sus4"},{set:new Set([0,2,10]),name:"(Dom)7sus2"},{set:new Set([0,5,10,2]),name:"(Dom)9sus4"},{set:new Set([0,5,10,1]),name:"(Dom)7b9sus"},{set:new Set([0,10,2,5,9]),name:"sus13"},{set:new Set([0,10,1,5,9]),name:"sus13b9"},{set:new Set([0,5,1]),name:"sus4b9"}],augTypes:[{set:new Set([0,4,8]),name:"Aug"},{set:new Set([0,4,8,10]),name:"Aug7"},{set:new Set([0,4,8,11]),name:"AugMaj7"}],minMajTypes:[{set:new Set([0,3,11]),name:"minMaj"},{set:new Set([0,3,11,2]),name:"minMaj9"},{set:new Set([0,3,11,2,8]),name:"minMaj9b13"}],dimTypes:[{set:new Set([0,3,6]),name:"dim"},{set:new Set([0,3,6,10]),name:"halfDim"},{set:new Set([0,3,6,9]),name:"fullDim"}],otherTypes:[{set:new Set([0,4,6]),name:"Majb5"},{set:new Set([0,4,6,11]),name:"Maj7b5"},{set:new Set([0,4,6,11,2]),name:"Maj9b5"},{set:new Set([0,4,7,11,6]),name:"Maj7Add#11"},{set:new Set([0,4,7,11,2,6]),name:"Maj9Add#11"},{set:new Set([0,4,7,11,2,6,9]),name:"Maj13#11Set"},{set:new Set([0,4,7,6]),name:"MajAdd#11"}]}),Le=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],Be=["A","Bb","B","C","Db","D","Eb","E","F","Gb","G","Ab"],Vt=()=>{b.lpFilter=b.audioCtx.createBiquadFilter(),b.lpFilter.type="lowpass",b.lpFilter.frequency.value=800,b.lpFilter.Q.value=5,b.lpFilter.connect(b.audioCtx.destination)},Rt=()=>{b.gainNodes.forEach(e=>{e.disconnect()}),b.gainNodes=[],b.oscs.forEach(e=>{e.disconnect()}),b.oscs=[]},Ge=(e,t,n)=>{Vt(),Rt();for(let i=0;i<e.length;i+=1){let o=b.audioCtx.createGain();b.gainNodes.push(o),o.gain.value=0,o.connect(b.lpFilter);let d=b.audioCtx.createOscillator();d.type="sawtooth",d.frequency.value=yt[e[i]],d.connect(o),d.start(),b.oscs.push(d)}const s=n?0:1;for(let i=0;i<e.length;i+=1)b.gainNodes[i].gain.value=s*t*.7/(e.length+1)};function et(e,t){const n=t?0:1;for(let s=0;s<b.gainNodes.length;s+=1)b.gainNodes[s].gain.value=n*e*.7/(b.gainNodes.length+1)}function Ut(e,t=!1){const n=qt();let s;t?s=Be:s=Le;const i=be(e)[0];e=be(e).map(u=>t?Ht(u.slice(0,u.length-1)):u.slice(0,u.length-1));let o=[],d=new Set;for(let u=0;u<e.length;u+=1){let l=e[u];Le.includes(l)?d.add(Le.indexOf(l)):Be.includes(l)&&d.add(Be.indexOf(l))}let r=Array.from(d),a;for(let u=0;u<12;u+=1){a=new Set;for(let l=0;l<r.length;l+=1)a.add((r[l]+u)%12);a.delete(7);for(let l=0;l<n.powerTypes.length;l+=1)O(a,n.powerTypes[l].set)&&o.push(s[(12-u)%12]+` ${n.powerTypes[l].name}`);a=new Set;for(let l=0;l<r.length;l+=1)a.add((r[l]+u)%12);a.delete(7);for(let l=0;l<n.majTypes.length;l+=1)O(a,n.majTypes[l].set)&&o.push(s[(12-u)%12]+` ${n.majTypes[l].name}`);a=new Set;for(let l=0;l<r.length;l+=1)a.add((r[l]+u)%12);a.delete(7);for(let l=0;l<n.minTypes.length;l+=1)O(a,n.minTypes[l].set)&&o.push(s[(12-u)%12]+` ${n.minTypes[l].name}`);a=new Set;for(let l=0;l<r.length;l+=1)a.add((r[l]+u)%12);a.delete(7);for(let l=0;l<n.domTypes.length;l+=1)O(a,n.domTypes[l].set)&&o.push(s[(12-u)%12]+` ${n.domTypes[l].name}`);a=new Set;for(let l=0;l<r.length;l+=1)a.add((r[l]+u)%12);a.delete(7);for(let l=0;l<n.susTypes.length;l+=1)O(a,n.susTypes[l].set)&&o.push(s[(12-u)%12]+` ${n.susTypes[l].name}`);a=new Set;for(let l=0;l<r.length;l+=1)a.add((r[l]+u)%12);a.delete(7);for(let l=0;l<n.dimTypes.length;l+=1)O(a,n.dimTypes[l].set)&&o.push(s[(12-u)%12]+` ${n.dimTypes[l].name}`);a=new Set;for(let l=0;l<r.length;l+=1)a.add((r[l]+u)%12);a.delete(7);for(let l=0;l<n.minMajTypes.length;l+=1)O(a,n.minMajTypes[l].set)&&o.push(s[(12-u)%12]+` ${n.minMajTypes[l].name}`);a=new Set;for(let l=0;l<r.length;l+=1)a.add((r[l]+u)%12);a.delete(7);for(let l=0;l<n.augTypes.length;l+=1)O(a,n.augTypes[l].set)&&o.push(s[(12-u)%12]+` ${n.augTypes[l].name}`);a=new Set;for(let l=0;l<r.length;l+=1)a.add((r[l]+u)%12);a.delete(7);for(let l=0;l<n.otherTypes.length;l+=1)O(a,n.otherTypes[l].set)&&o.push(s[(12-u)%12]+` ${n.otherTypes[l].name}`)}let c;if(o.length===1)c=o[0],o=[];else if(i){for(let u=0;u<o.length;u+=1)if(i.slice(0,-1)===o[u].slice(0,i.length-1)){c=o[u],o=o.slice(0,u).concat(o.slice(u+1,o.length));break}}return{possibleChords:o,mostLikely:c}}function O(e,t){return e.size===t.size&&[...e].every(n=>t.has(n))}function Wt(e){return gt[Xe.indexOf(e.slice(0,e.length-1))]+e[e.length-1]}function Ht(e){return gt[Xe.indexOf(e)]}function be(e){if(e.length<=1)return[...e];let t=Math.floor(e.length/2),n=e.slice(0,t),s=e.slice(t,e.length);return Xt(be(n),be(s),Qt)}function Qt(e,t){let n=parseInt(e.slice(e.length-1,e.length)),s=parseInt(t.slice(t.length-1,t.length));return n<s?1:n>s?-1:fe.indexOf(e.slice(0,e.length-1))<fe.indexOf(t.slice(0,t.length-1))?1:fe.indexOf(e.slice(0,e.length-1))>fe.indexOf(t.slice(0,t.length-1))?-1:0}function Xt(e,t,n){let s=[];for(;e.length>0&&t.length>0;)n(e[0],t[0])===1?s.push(e.shift()):s.push(t.shift());return s.concat(e).concat(t)}const pt=jt();function Yt(e){const[t,n]=Gt({notesPressed:[],notesPressedFlats:[],chordInfo:{possibleChords:[]},sharps:!0,volume:1,muted:!1,midiMode:!1,dispSize:0}),s=m=>{n({...t,notesPressed:[...t.notesPressed,m],notesPressedFlats:[...t.notesPressedFlats,Wt(m)]}),Ge(t.notesPressed,t.volume,t.muted)},i=m=>{if(t.notesPressed.includes(m)){const w=t.notesPressed.indexOf(m);n({...t,notesPressed:[...t.notesPressed.slice(0,w),...t.notesPressed.slice(w+1)],notesPressedFlats:[...t.notesPressedFlats.slice(0,w),...t.notesPressedFlats.slice(w+1)]})}Ge(t.notesPressed,t.volume,t.muted)},o=()=>{n({...t,notesPressed:[],notesPressedFlats:[]}),Ge(t.notesPressed,t.volume,t.muted)},d=m=>{n({...t,volume:m}),et(t.volume,t.muted)},r=m=>{n({...t,muted:m}),et(t.volume,t.muted)},a=m=>{n({...t,sharps:m})},c=m=>{n({...t,midiMode:m})},u=()=>{const m=window.innerWidth/100,w=window.innerHeight/100,_=Math.sqrt(m*w);n({...t,dispSize:_*3}),console.log(_)};it(()=>{u(),window.addEventListener("resize",u),He(()=>window.removeEventListener("resize",u))});const l=[t,{addNotePressed:s,removeNotePressed:i,clearAllNotes:o,adjustVolume:d,setMuted:r,setSharps:a,setMidiMode:c}];return S(pt.Provider,{value:l,get children(){return e.children}})}function je(){return xt(pt)}const Jt="_App_10fin_3",Zt="_whiteKey_10fin_11",en="_whiteKeyPressed_10fin_26",tn="_blackKey_10fin_41",nn="_blackKeyPressed_10fin_56",sn="_fakeKey_10fin_71",on="_blackKeyContainer_10fin_81",ln="_whiteKeyContainer_10fin_91",rn="_octaveContainer_10fin_101",dn="_pianoContainer_10fin_107",an="_chordInfo_10fin_116",un="_controlsContainer_10fin_129",cn="_controlsText_10fin_139",fn="_controlsButton_10fin_145",mn="_controlsCheckbox_10fin_154",Sn="_controlsSlider_10fin_161",hn="_mostLikely_10fin_167",gn="_possibleChords_10fin_171",y={App:Jt,whiteKey:Zt,whiteKeyPressed:en,blackKey:tn,blackKeyPressed:nn,fakeKey:sn,blackKeyContainer:on,whiteKeyContainer:ln,octaveContainer:rn,pianoContainer:dn,chordInfo:an,controlsContainer:un,controlsText:cn,controlsButton:fn,controlsCheckbox:mn,controlsSlider:Sn,mostLikely:hn,possibleChords:gn};var tt=G("<div>");const U=e=>{const[t,{addNotePressed:n,removeNotePressed:s}]=je(),i=I(()=>t.notesPressed.includes(e.note));return S(te,{get when(){return!i()},get fallback(){return(()=>{var o=tt();return K(o,"click",()=>{s(e.note)}),$(()=>g(o,y.whiteKeyPressed)),o})()},get children(){var o=tt();return K(o,"click",()=>{n(e.note)}),$(()=>g(o,y.whiteKey)),o}})};var nt=G("<div>");const Z=e=>{const[t,{addNotePressed:n,removeNotePressed:s}]=je(),i=I(()=>t.notesPressed.includes(e.note));return S(te,{get when(){return!i()},get fallback(){return(()=>{var o=nt();return K(o,"click",()=>{s(e.note)}),$(()=>g(o,y.blackKeyPressed)),o})()},get children(){var o=nt();return K(o,"click",()=>{n(e.note)}),$(()=>g(o,y.blackKey)),o}})};var yn=G("<div><div><div id=E#></div><div id=B#></div></div><div>");const pn=e=>(()=>{var t=yn(),n=t.firstChild,s=n.firstChild,i=s.nextSibling,o=n.nextSibling;return h(n,S(Z,{get note(){return`C#${e.octaveIdx}`}}),s),h(n,S(Z,{get note(){return`D#${e.octaveIdx}`}}),s),h(n,S(Z,{get note(){return`F#${e.octaveIdx}`}}),i),h(n,S(Z,{get note(){return`G#${e.octaveIdx}`}}),i),h(n,S(Z,{get note(){return`A#${e.octaveIdx}`}}),i),h(o,S(U,{get note(){return`C${e.octaveIdx}`}}),null),h(o,S(U,{get note(){return`D${e.octaveIdx}`}}),null),h(o,S(U,{get note(){return`E${e.octaveIdx}`}}),null),h(o,S(U,{get note(){return`F${e.octaveIdx}`}}),null),h(o,S(U,{get note(){return`G${e.octaveIdx}`}}),null),h(o,S(U,{get note(){return`A${e.octaveIdx}`}}),null),h(o,S(U,{get note(){return`B${e.octaveIdx}`}}),null),$(d=>{var r=y.octaveContainer,a=y.blackKeyContainer,c=y.fakeKey,u=y.fakeKey,l=y.whiteKeyContainer;return r!==d.e&&g(t,d.e=r),a!==d.t&&g(n,d.t=a),c!==d.a&&g(s,d.a=c),u!==d.o&&g(i,d.o=u),l!==d.i&&g(o,d.i=l),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),t})();var wn=G("<div>");const An=e=>{const[t,n]=ne(window.innerWidth),s=()=>{n(window.innerWidth)};it(()=>{window.addEventListener("resize",s),He(()=>window.removeEventListener("resize",s))});const i=()=>t()>1300?[2,3,4,5]:t()>900&&t()<=1300?[3,4,5]:[4,5];return(()=>{var o=wn();return h(o,S(ct,{get each(){return i()},children:d=>S(pn,{octaveIdx:d})})),$(()=>g(o,y.pianoContainer)),o})()};var ze=G("<div>"),vn=G("<div>Most Likely: "),bn=G("<div>Possible chords:");const Cn=e=>{const[t,{addNotePressed:n,removeNotePressed:s}]=je(),i=I(()=>Ut(t.notesPressed,!t.sharps)),o=I(()=>(t.sharps?t.notesPressed:t.notesPressedFlats).map(u=>u+",").join(" ").slice(0,-1)),d=()=>i().mostLikely,r=()=>i().possibleChords;return(()=>{var a=ze();return h(a,S(te,{get when(){return o().length>0},get children(){return["Notes pressed:",(()=>{var c=ze();return h(c,o),c})()]}}),null),h(a,S(te,{get when(){return d()},get children(){var c=vn();return c.firstChild,h(c,d,null),$(()=>g(c,y.mostLikely)),c}}),null),h(a,S(te,{get when(){return r().length>0},get children(){var c=bn();return c.firstChild,h(c,S(ct,{get each(){return r()},children:(u,l)=>(()=>{var m=ze();return h(m,u),m})()}),null),$(()=>g(c,y.possibleChords)),c}}),null),$(c=>{var u=`${t.dispSize/1.3}px`,l=y.chordInfo;return u!==c.e&&((c.e=u)!=null?a.style.setProperty("font-size",u):a.style.removeProperty("font-size")),l!==c.t&&g(a,c.t=l),c},{e:void 0,t:void 0}),a})()};var jn=G("<div><div>Volume <input type=range value=100 min=0 max=100></div><div>Muted <input type=checkbox></div><div>Sharps <input type=checkbox></div><button>Clear Notes</button><div>Use MIDI <input type=checkbox>");const xn=e=>{const[t,{clearAllNotes:n,adjustVolume:s,setMuted:i,setSharps:o,addNotePressed:d,removeNotePressed:r,setMidiMode:a}]=je(),[c,u]=ne(!1),[l,m]=ne(!0);let w,_;const k=()=>{const D=window.navigator;let C=null,M=!1;function x(A){console.log("MIDI ready!"),C=A,H(C),Q(C)}function T(A){console.error(`Failed to get MIDI access - ${A}`)}function H(A){for(const F of A.inputs){const j=F[1];console.log(`Input port [type:'${j.type}'] id:'${j.id}' manufacturer:'${j.manufacturer}' name:'${j.name}' version:'${j.version}'`)}for(const F of A.outputs){const j=F[1];console.log(`Output port [type:'${j.type}'] id:'${j.id}' manufacturer:'${j.manufacturer}' name:'${j.name}' version:'${j.version}'`)}}function V(A){if(t.midiMode){`${A.timeStamp}${A.data.length}`;let F="";for(const j of A.data)F+=`0x${j.toString(16)} `;if(F!=="0xf8 "){const j=zt[parseInt(A.data.slice(1))];parseInt(A.data[2])>0?d(j):r(j)}}}function Q(A){M||A.inputs.forEach(F=>{F.onmidimessage=V}),M=!0}return{runMidiStuff:()=>{D.requestMIDIAccess().then(x,T)},cancelMidiStuff:()=>{}}},{runMidiStuff:q}=k();return(()=>{var D=jn(),C=D.firstChild,M=C.firstChild,x=M.nextSibling,T=C.nextSibling,H=T.firstChild,V=H.nextSibling,Q=T.nextSibling,xe=Q.firstChild,R=xe.nextSibling,A=Q.nextSibling,F=A.nextSibling,j=F.firstChild,E=j.nextSibling;K(x,"input",()=>{w&&s(parseFloat(w.value)*.01)});var $e=w;typeof $e=="function"?Je($e,x):w=x,K(V,"change",()=>{u(!c()),i(c())}),K(R,"change",()=>{m(!l()),o(l())}),K(A,"click",()=>{n()}),K(E,"change",()=>{_&&(_.checked?(a(!0),n(),q()):(a(!1),n()))});var _e=_;return typeof _e=="function"?Je(_e,E):_=E,$(f=>{var re=`${t.dispSize}px`,Me=y.controlsContainer,Pe=y.controlsText,De=y.controlsSlider,Te=y.controlsText,de=`scale(${t.dispSize/20})`,Fe=y.controlsCheckbox,ke=y.controlsText,ae=`scale(${t.dispSize/20})`,Ie=y.controlsCheckbox,ue=`${t.dispSize/1.5}px`,Ee=y.controlsButton,Oe=y.controlsText,ce=`scale(${t.dispSize/20})`,Ne=y.controlsCheckbox;return re!==f.e&&((f.e=re)!=null?D.style.setProperty("font-size",re):D.style.removeProperty("font-size")),Me!==f.t&&g(D,f.t=Me),Pe!==f.a&&g(C,f.a=Pe),De!==f.o&&g(x,f.o=De),Te!==f.i&&g(T,f.i=Te),de!==f.n&&((f.n=de)!=null?V.style.setProperty("transform",de):V.style.removeProperty("transform")),Fe!==f.s&&g(V,f.s=Fe),ke!==f.h&&g(Q,f.h=ke),ae!==f.r&&((f.r=ae)!=null?R.style.setProperty("transform",ae):R.style.removeProperty("transform")),Ie!==f.d&&g(R,f.d=Ie),ue!==f.l&&((f.l=ue)!=null?A.style.setProperty("font-size",ue):A.style.removeProperty("font-size")),Ee!==f.u&&g(A,f.u=Ee),Oe!==f.c&&g(F,f.c=Oe),ce!==f.w&&((f.w=ce)!=null?E.style.setProperty("transform",ce):E.style.removeProperty("transform")),Ne!==f.m&&g(E,f.m=Ne),f},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0}),$(()=>R.checked=l()),$(()=>E.checked=t.midiMode),D})()};var $n=G("<div>");const _n=()=>S(Yt,{get children(){var e=$n();return h(e,S(xn,{}),null),h(e,S(An,{}),null),h(e,S(Cn,{}),null),$(()=>g(e,y.App)),e}}),Mn=document.getElementById("root");Ot(()=>S(_n,{}),Mn);
